var jr=Object.defineProperty;var Kr=(e,t,n)=>t in e?jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var di=(e,t,n)=>(Kr(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const r of f.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=n(o);fetch(o.href,f)}})();function Qe(){}function qr(e,t){for(const n in t)e[n]=t[n];return e}function ys(e){return e()}function vo(){return Object.create(null)}function nn(e){e.forEach(ys)}function vs(e){return typeof e=="function"}function ln(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let yl;function ks(e,t){return e===t?!0:(yl||(yl=document.createElement("a")),yl.href=t,e===yl.href)}function Jr(e){return Object.keys(e).length===0}function Zr(e,...t){if(e==null){for(const l of t)l(void 0);return Qe}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ms(e,t,n){e.$$.on_destroy.push(Zr(t,n))}function Qr(e,t,n,l){if(e){const o=Ps(e,t,n,l);return e[0](o)}}function Ps(e,t,n,l){return e[1]&&l?qr(n.ctx.slice(),e[1](l(t))):n.ctx}function $r(e,t,n,l){if(e[2]&&l){const o=e[2](l(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const f=[],r=Math.max(t.dirty.length,o.length);for(let c=0;c<r;c+=1)f[c]=t.dirty[c]|o[c];return f}return t.dirty|o}return t.dirty}function Xr(e,t,n,l,o,f){if(o){const r=Ps(t,n,l,f);e.p(r,o)}}function ef(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let l=0;l<n;l++)t[l]=-1;return t}return-1}function tf(e,t,n){return e.set(n),t}function ze(e,t){e.appendChild(t)}function je(e,t,n){e.insertBefore(t,n||null)}function We(e){e.parentNode&&e.parentNode.removeChild(e)}function nf(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Ee(e){return document.createElement(e)}function fl(e){return document.createTextNode(e)}function bt(){return fl(" ")}function lf(){return fl("")}function kn(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function fe(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function of(e){return Array.from(e.childNodes)}function Es(e,t){t=""+t,e.data!==t&&(e.data=t)}function Sn(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function ko(e,t,n){e.classList.toggle(t,!!n)}function sf(e,t,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:l})}let sl;function ll(e){sl=e}function As(){if(!sl)throw new Error("Function called outside component initialization");return sl}function rf(e){As().$$.on_mount.push(e)}function ff(){const e=As();return(t,n,{cancelable:l=!1}={})=>{const o=e.$$.callbacks[t];if(o){const f=sf(t,n,{cancelable:l});return o.slice().forEach(r=>{r.call(e,f)}),!f.defaultPrevented}return!0}}function uf(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(l=>l.call(this,t))}const wn=[],tt=[];let yn=[];const yi=[],cf=Promise.resolve();let vi=!1;function af(){vi||(vi=!0,cf.then(Ls))}function ki(e){yn.push(e)}function _t(e){yi.push(e)}const hi=new Set;let pn=0;function Ls(){if(pn!==0)return;const e=sl;do{try{for(;pn<wn.length;){const t=wn[pn];pn++,ll(t),df(t.$$)}}catch(t){throw wn.length=0,pn=0,t}for(ll(null),wn.length=0,pn=0;tt.length;)tt.pop()();for(let t=0;t<yn.length;t+=1){const n=yn[t];hi.has(n)||(hi.add(n),n())}yn.length=0}while(wn.length);for(;yi.length;)yi.pop()();vi=!1,hi.clear(),ll(e)}function df(e){if(e.fragment!==null){e.update(),nn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ki)}}function hf(e){const t=[],n=[];yn.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),yn=t}const Pl=new Set;let Qt;function Ll(){Qt={r:0,c:[],p:Qt}}function Dl(){Qt.r||nn(Qt.c),Qt=Qt.p}function ye(e,t){e&&e.i&&(Pl.delete(e),e.i(t))}function Ye(e,t,n,l){if(e&&e.o){if(Pl.has(e))return;Pl.add(e),Qt.c.push(()=>{Pl.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function Mo(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function wt(e,t,n){const l=e.$$.props[t];l!==void 0&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function $t(e){e&&e.c()}function Bt(e,t,n){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),ki(()=>{const f=e.$$.on_mount.map(ys).filter(vs);e.$$.on_destroy?e.$$.on_destroy.push(...f):nn(f),e.$$.on_mount=[]}),o.forEach(ki)}function It(e,t){const n=e.$$;n.fragment!==null&&(hf(n.after_update),nn(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function pf(e,t){e.$$.dirty[0]===-1&&(wn.push(e),af(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function On(e,t,n,l,o,f,r=null,c=[-1]){const p=sl;ll(e);const d=e.$$={fragment:null,ctx:[],props:f,update:Qe,not_equal:o,bound:vo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(p?p.$$.context:[])),callbacks:vo(),dirty:c,skip_bound:!1,root:t.target||p.$$.root};r&&r(d.root);let w=!1;if(d.ctx=n?n(e,t.props||{},(_,h,...P)=>{const T=P.length?P[0]:h;return d.ctx&&o(d.ctx[_],d.ctx[_]=T)&&(!d.skip_bound&&d.bound[_]&&d.bound[_](T),w&&pf(e,_)),h}):[],d.update(),w=!0,nn(d.before_update),d.fragment=l?l(d.ctx):!1,t.target){if(t.hydrate){const _=of(t.target);d.fragment&&d.fragment.l(_),_.forEach(We)}else d.fragment&&d.fragment.c();t.intro&&ye(e.$$.fragment),Bt(e,t.target,t.anchor),Ls()}ll(p)}class Cn{constructor(){di(this,"$$");di(this,"$$set")}$destroy(){It(this,1),this.$destroy=Qe}$on(t,n){if(!vs(n))return Qe;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!Jr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const mf="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(mf);const mn=[];function gf(e,t=Qe){let n;const l=new Set;function o(c){if(ln(e,c)&&(e=c,n)){const p=!mn.length;for(const d of l)d[1](),mn.push(d,e);if(p){for(let d=0;d<mn.length;d+=2)mn[d][0](mn[d+1]);mn.length=0}}}function f(c){o(c(e))}function r(c,p=Qe){const d=[c,p];return l.add(d),l.size===1&&(n=t(o,f)||Qe),c(e),()=>{l.delete(d),l.size===0&&n&&(n(),n=null)}}return{set:o,update:f,subscribe:r}}const Tl=gf("");let El,Ol;const _f=new TextDecoder;let Po=0,Cl=!1;async function wf(e){El=await navigator.serial.requestPort(),await El.open({baudRate:e}),Ol=El.readable.getReader(),Cl=!0}function Ds(){Ts(),Ol.cancel(),Ol.releaseLock(),El.close()}function Ts(){Cl=!1}async function bf(){let e="";for(Cl=!0;Cl;){const{value:t,done:n}=await Ol.read();if(n){Ds();break}const l=_f.decode(t);for(const o of l)if(o===`
`){e=e.replace(/[\r\n]+/gm,"");const f=`${Po}, ${e}`;Tl.set(f),e="",Po++}else e+=o}}function Sf(e){let t,n,l,o;return{c(){t=Ee("button"),n=fl(e[0]),fe(t,"class","svelte-1pzi7a2")},m(f,r){je(f,t,r),ze(t,n),l||(o=kn(t,"click",e[1]),l=!0)},p(f,[r]){r&1&&Es(n,f[0])},i:Qe,o:Qe,d(f){f&&We(t),l=!1,o()}}}function yf(e,t,n){let{name:l}=t;function o(f){uf.call(this,e,f)}return e.$$set=f=>{"name"in f&&n(0,l=f.name)},[l,o]}class Os extends Cn{constructor(t){super(),On(this,t,yf,Sf,ln,{name:0})}}function Eo(e){let t,n;const l=e[3].default,o=Qr(l,e,e[2],null),f=o||vf();return{c(){t=Ee("div"),f&&f.c(),fe(t,"id","dropdown-content"),fe(t,"class","svelte-1w3v0in")},m(r,c){je(r,t,c),f&&f.m(t,null),n=!0},p(r,c){o&&o.p&&(!n||c&4)&&Xr(o,l,r,r[2],n?$r(l,r[2],c,null):ef(r[2]),null)},i(r){n||(ye(f,r),n=!0)},o(r){Ye(f,r),n=!1},d(r){r&&We(t),f&&f.d(r)}}}function vf(e){let t;return{c(){t=fl("Link")},m(n,l){je(n,t,l)},d(n){n&&We(t)}}}function kf(e){let t,n,l,o,f,r,c=e[0]&&Eo(e);return{c(){t=Ee("div"),n=Ee("button"),n.innerHTML='<svg width="20px" height="20px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="var(--on-background-secondary)" class="bi bi-three-dots-vertical"><path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg>',l=bt(),c&&c.c(),fe(n,"class","svelte-1w3v0in"),ko(n,"open",e[0]),fe(t,"id","dropdown"),fe(t,"class","svelte-1w3v0in")},m(p,d){je(p,t,d),ze(t,n),ze(t,l),c&&c.m(t,null),o=!0,f||(r=[kn(n,"click",e[4]),kn(t,"focusout",e[1])],f=!0)},p(p,[d]){(!o||d&1)&&ko(n,"open",p[0]),p[0]?c?(c.p(p,d),d&1&&ye(c,1)):(c=Eo(p),c.c(),ye(c,1),c.m(t,null)):c&&(Ll(),Ye(c,1,1,()=>{c=null}),Dl())},i(p){o||(ye(c),o=!0)},o(p){Ye(c),o=!1},d(p){p&&We(t),c&&c.d(),f=!1,nn(r)}}}function Mf(e,t,n){let{$$slots:l={},$$scope:o}=t,f=!1;function r({relatedTarget:p,currentTarget:d}){p instanceof HTMLElement&&d.contains(p)||n(0,f=!1)}const c=()=>{n(0,f=!f)};return e.$$set=p=>{"$$scope"in p&&n(2,o=p.$$scope)},[f,r,o,l,c]}class Pf extends Cn{constructor(t){super(),On(this,t,Mf,kf,ln,{})}}function Ao(e,t,n){const l=e.slice();return l[9]=t[n],l}function Lo(e){let t,n=Mo(e[2]),l=[];for(let o=0;o<n.length;o+=1)l[o]=Do(Ao(e,n,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();t=lf()},m(o,f){for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(o,f);je(o,t,f)},p(o,f){if(f&36){n=Mo(o[2]);let r;for(r=0;r<n.length;r+=1){const c=Ao(o,n,r);l[r]?l[r].p(c,f):(l[r]=Do(c),l[r].c(),l[r].m(t.parentNode,t))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(o){o&&We(t),nf(l,o)}}}function Do(e){let t,n=e[9]+"",l,o,f;function r(){return e[8](e[9])}return{c(){t=Ee("button"),l=fl(n),fe(t,"class","svelte-1bgmhsl")},m(c,p){je(c,t,p),ze(t,l),o||(f=kn(t,"click",r),o=!0)},p(c,p){e=c,p&4&&n!==(n=e[9]+"")&&Es(l,n)},d(c){c&&We(t),o=!1,f()}}}function Ef(e){let t,n,l,o,f,r,c,p,d=e[3]&&Lo(e);return{c(){t=Ee("div"),n=Ee("input"),l=bt(),o=Ee("button"),o.textContent="â–¼",f=bt(),r=Ee("div"),d&&d.c(),fe(n,"type","text"),fe(n,"class","menu-input svelte-1bgmhsl"),n.value=e[0],fe(n,"title",e[1]),n.readOnly=!0,fe(o,"class","menu-button svelte-1bgmhsl"),fe(r,"class","menu-options svelte-1bgmhsl"),fe(t,"class","menu-wrapper svelte-1bgmhsl")},m(w,_){je(w,t,_),ze(t,n),ze(t,l),ze(t,o),ze(t,f),ze(t,r),d&&d.m(r,null),c||(p=[kn(o,"click",e[4]),kn(t,"focusout",e[6])],c=!0)},p(w,[_]){_&1&&n.value!==w[0]&&(n.value=w[0]),_&2&&fe(n,"title",w[1]),w[3]?d?d.p(w,_):(d=Lo(w),d.c(),d.m(r,null)):d&&(d.d(1),d=null)},i:Qe,o:Qe,d(w){w&&We(t),d&&d.d(),c=!1,nn(p)}}}function Af(e,t,n){let{tooltip:l}=t,{options:o}=t,{defaultOption:f=void 0}=t,{selectedOption:r=f||o[0]}=t,c=!1;function p(){n(3,c=!c)}function d(h){n(0,r=h),n(3,c=!1)}function w({relatedTarget:h,currentTarget:P}){h instanceof HTMLElement&&P.contains(h)||n(3,c=!1)}const _=h=>d(h);return e.$$set=h=>{"tooltip"in h&&n(1,l=h.tooltip),"options"in h&&n(2,o=h.options),"defaultOption"in h&&n(7,f=h.defaultOption),"selectedOption"in h&&n(0,r=h.selectedOption)},[r,l,o,c,p,d,w,f,_]}class Cs extends Cn{constructor(t){super(),On(this,t,Af,Ef,ln,{tooltip:1,options:2,defaultOption:7,selectedOption:0})}}function To(e){let t,n,l;function o(r){e[13](r)}let f={tooltip:"Baudrate",options:e[3],defaultOption:e[4]};return e[0]!==void 0&&(f.selectedOption=e[0]),t=new Cs({props:f}),tt.push(()=>wt(t,"selectedOption",o)),{c(){$t(t.$$.fragment)},m(r,c){Bt(t,r,c),l=!0},p(r,c){const p={};c&8&&(p.options=r[3]),c&16&&(p.defaultOption=r[4]),!n&&c&1&&(n=!0,p.selectedOption=r[0],_t(()=>n=!1)),t.$set(p)},i(r){l||(ye(t.$$.fragment,r),l=!0)},o(r){Ye(t.$$.fragment,r),l=!1},d(r){It(t,r)}}}function Oo(e){let t,n,l,o;function f(c){e[14](c)}let r={};return e[8]!==void 0&&(r.name=e[8]),t=new Os({props:r}),tt.push(()=>wt(t,"name",f)),t.$on("click",e[9]),{c(){n=Ee("div"),$t(t.$$.fragment),Sn(n,"display","contents"),Sn(n,"--background-color","var(--secondary)"),Sn(n,"--color","var(--on-secondary)")},m(c,p){je(c,n,p),Bt(t,n,null),o=!0},p(c,p){const d={};!l&&p&256&&(l=!0,d.name=c[8],_t(()=>l=!1)),t.$set(d)},i(c){o||(ye(t.$$.fragment,c),o=!0)},o(c){Ye(t.$$.fragment,c),o=!1},d(c){c&&t&&We(n),It(t,c)}}}function Lf(e){let t,n,l;return{c(){t=Ee("a"),t.textContent="Github",n=bt(),l=Ee("a"),l.textContent="About",fe(t,"href","https://github.com/dot1nt/webplot"),fe(l,"href","/")},m(o,f){je(o,t,f),je(o,n,f),je(o,l,f)},p:Qe,d(o){o&&(We(t),We(n),We(l))}}}function Df(e){let t,n,l,o,f,r,c,p,d,w,_,h,P,T,A,z;function I(S){e[12](S)}let O={tooltip:"Points",options:e[5],defaultOption:e[6]};e[1]!==void 0&&(O.selectedOption=e[1]),r=new Cs({props:O}),tt.push(()=>wt(r,"selectedOption",I));let y=!e[2]&&To(e),b=e[2]&&Oo(e);function k(S){e[15](S)}let x={};return e[7]!==void 0&&(x.name=e[7]),_=new Os({props:x}),tt.push(()=>wt(_,"name",k)),_.$on("click",e[10]),A=new Pf({props:{$$slots:{default:[Lf]},$$scope:{ctx:e}}}),{c(){t=Ee("div"),n=Ee("img"),o=bt(),f=Ee("div"),$t(r.$$.fragment),p=bt(),y&&y.c(),d=bt(),b&&b.c(),w=bt(),h=Ee("div"),$t(_.$$.fragment),T=bt(),$t(A.$$.fragment),ks(n.src,l="logo.svg")||fe(n,"src",l),fe(n,"id","logo"),fe(n,"alt","logo"),fe(n,"class","svelte-jcwg7t"),Sn(h,"display","contents"),Sn(h,"--background-color","var(--primary)"),Sn(h,"--color","var(--on-primary)"),fe(f,"id","container-right"),fe(f,"class","svelte-jcwg7t"),fe(t,"id","header"),fe(t,"class","svelte-jcwg7t")},m(S,N){je(S,t,N),ze(t,n),ze(t,o),ze(t,f),Bt(r,f,null),ze(f,p),y&&y.m(f,null),ze(f,d),b&&b.m(f,null),ze(f,w),ze(f,h),Bt(_,h,null),ze(f,T),Bt(A,f,null),z=!0},p(S,[N]){const W={};N&32&&(W.options=S[5]),N&64&&(W.defaultOption=S[6]),!c&&N&2&&(c=!0,W.selectedOption=S[1],_t(()=>c=!1)),r.$set(W),S[2]?y&&(Ll(),Ye(y,1,1,()=>{y=null}),Dl()):y?(y.p(S,N),N&4&&ye(y,1)):(y=To(S),y.c(),ye(y,1),y.m(f,d)),S[2]?b?(b.p(S,N),N&4&&ye(b,1)):(b=Oo(S),b.c(),ye(b,1),b.m(f,w)):b&&(Ll(),Ye(b,1,1,()=>{b=null}),Dl());const V={};!P&&N&128&&(P=!0,V.name=S[7],_t(()=>P=!1)),_.$set(V);const L={};N&131072&&(L.$$scope={dirty:N,ctx:S}),A.$set(L)},i(S){z||(ye(r.$$.fragment,S),ye(y),ye(b),ye(_.$$.fragment,S),ye(A.$$.fragment,S),z=!0)},o(S){Ye(r.$$.fragment,S),Ye(y),Ye(b),Ye(_.$$.fragment,S),Ye(A.$$.fragment,S),z=!1},d(S){S&&We(t),It(r),y&&y.d(),b&&b.d(),It(_),It(A)}}}function Tf(e,t,n){let l,{connected:o}=t,{started:f}=t,{baudrateOptions:r}=t,{baudrate:c}=t,{defaultBaudrate:p}=t,{pointsOptions:d}=t,{numPoints:w}=t,{defaultPoints:_}=t;const h=ff();function P(){h("start")}function T(){h("connect")}let A;function z(b){w=b,n(1,w)}function I(b){c=b,n(0,c)}function O(b){l=b,n(8,l),n(11,f)}function y(b){A=b,n(7,A),n(2,o)}return e.$$set=b=>{"connected"in b&&n(2,o=b.connected),"started"in b&&n(11,f=b.started),"baudrateOptions"in b&&n(3,r=b.baudrateOptions),"baudrate"in b&&n(0,c=b.baudrate),"defaultBaudrate"in b&&n(4,p=b.defaultBaudrate),"pointsOptions"in b&&n(5,d=b.pointsOptions),"numPoints"in b&&n(1,w=b.numPoints),"defaultPoints"in b&&n(6,_=b.defaultPoints)},e.$$.update=()=>{e.$$.dirty&2048&&n(8,l=f?"Stop":"Start"),e.$$.dirty&4&&("serial"in navigator?n(7,A=o?"Disconnect":"Connect"):n(7,A="Browser doesn't support WebSerial"))},[c,w,o,r,p,d,_,A,l,P,T,f,z,I,O,y]}class Of extends Cn{constructor(t){super(),On(this,t,Tf,Df,ln,{connected:2,started:11,baudrateOptions:3,baudrate:0,defaultBaudrate:4,pointsOptions:5,numPoints:1,defaultPoints:6})}}function pi(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Cf(){const e=Math.floor(pi(100,256)),t=Math.floor(pi(100,256)),n=Math.floor(pi(100,256)),l=e.toString(16).padStart(2,"0"),o=t.toString(16).padStart(2,"0"),f=n.toString(16).padStart(2,"0");return`#${l}${o}${f}`}const xf=!0,Ae="u-",zf="uplot",Rf=Ae+"hz",Ff=Ae+"vt",Nf=Ae+"title",Vf=Ae+"wrap",Hf=Ae+"under",Bf=Ae+"over",If=Ae+"axis",Zt=Ae+"off",Gf=Ae+"select",Wf=Ae+"cursor-x",Uf=Ae+"cursor-y",Yf=Ae+"cursor-pt",jf=Ae+"legend",Kf=Ae+"live",qf=Ae+"inline",Jf=Ae+"series",Zf=Ae+"marker",Co=Ae+"label",Qf=Ae+"value",el="width",tl="height",$n="top",xo="bottom",gn="left",mi="right",Ci="#000",zo=Ci+"0",Ro="mousemove",Fo="mousedown",gi="mouseup",No="mouseenter",Vo="mouseleave",Ho="dblclick",$f="resize",Xf="scroll",Bo="change",xl="dppxchange",xi="--",xn=typeof window<"u",Mi=xn?document:null,vn=xn?window:null,eu=xn?navigator:null;let ie,vl;function Pi(){let e=devicePixelRatio;ie!=e&&(ie=e,vl&&Ai(Bo,vl,Pi),vl=matchMedia(`(min-resolution: ${ie-.001}dppx) and (max-resolution: ${ie+.001}dppx)`),Xt(Bo,vl,Pi),vn.dispatchEvent(new CustomEvent(xl)))}function nt(e,t){if(t!=null){let n=e.classList;!n.contains(t)&&n.add(t)}}function Ei(e,t){let n=e.classList;n.contains(t)&&n.remove(t)}function _e(e,t,n){e.style[t]=n+"px"}function gt(e,t,n,l){let o=Mi.createElement(e);return t!=null&&nt(o,t),n!=null&&n.insertBefore(o,l),o}function ft(e,t){return gt("div",e,t)}const Io=new WeakMap;function _n(e,t,n,l,o){let f="translate("+t+"px,"+n+"px)",r=Io.get(e);f!=r&&(e.style.transform=f,Io.set(e,f),t<0||n<0||t>l||n>o?nt(e,Zt):Ei(e,Zt))}const Go=new WeakMap;function tu(e,t,n){let l=t+n,o=Go.get(e);l!=o&&(Go.set(e,l),e.style.background=t,e.style.borderColor=n)}const Wo=new WeakMap;function nu(e,t,n,l){let o=t+""+n,f=Wo.get(e);o!=f&&(Wo.set(e,o),e.style.height=n+"px",e.style.width=t+"px",e.style.marginLeft=l?-t/2+"px":0,e.style.marginTop=l?-n/2+"px":0)}const zi={passive:!0},xs={...zi,capture:!0};function Xt(e,t,n,l){t.addEventListener(e,n,l?xs:zi)}function Ai(e,t,n,l){t.removeEventListener(e,n,l?xs:zi)}xn&&Pi();function Vt(e,t,n,l){let o;n=n||0,l=l||t.length-1;let f=l<=2147483647;for(;l-n>1;)o=f?n+l>>1:lt((n+l)/2),t[o]<e?n=o:l=o;return e-t[n]<=t[l]-e?n:l}function Mn(e,t,n,l){for(let o=l==1?t:n;o>=t&&o<=n;o+=l)if(e[o]!=null)return o;return-1}function lu(e,t,n,l){let o=Z,f=-Z;if(l==1)o=e[t],f=e[n];else if(l==-1)o=e[n],f=e[t];else for(let r=t;r<=n;r++){let c=e[r];c!=null&&(c<o&&(o=c),c>f&&(f=c))}return[o,f]}function iu(e,t,n){let l=Z,o=-Z;for(let f=t;f<=n;f++){let r=e[f];r!=null&&r>0&&(r<l&&(l=r),r>o&&(o=r))}return[l==Z?1:l,o==-Z?10:o]}function Vl(e,t,n,l){let o=jo(e),f=jo(t),r=n==10?Tt:zs;e==t&&(o==-1?(e*=n,t/=n):(e/=n,t*=n));let c=o==1?lt:Pn,p=f==1?Pn:lt,d=c(r(Re(e))),w=p(r(Re(t))),_=En(n,d),h=En(n,w);return n==10&&(d<0&&(_=ae(_,-d)),w<0&&(h=ae(h,-w))),l||n==2?(e=_*o,t=h*f):(e=Ns(e,_),t=Ln(t,h)),[e,t]}function Ri(e,t,n,l){let o=Vl(e,t,n,l);return e==0&&(o[0]=0),t==0&&(o[1]=0),o}const Fi=.1,Uo={mode:3,pad:Fi},il={pad:0,soft:null,mode:0},ou={min:il,max:il};function zl(e,t,n,l){return Hl(n)?Yo(e,t,n):(il.pad=n,il.soft=l?0:null,il.mode=l?3:0,Yo(e,t,ou))}function oe(e,t){return e??t}function su(e,t,n){for(t=oe(t,0),n=oe(n,e.length-1);t<=n;){if(e[t]!=null)return!0;t++}return!1}function Yo(e,t,n){let l=n.min,o=n.max,f=oe(l.pad,0),r=oe(o.pad,0),c=oe(l.hard,-Z),p=oe(o.hard,Z),d=oe(l.soft,Z),w=oe(o.soft,-Z),_=oe(l.mode,0),h=oe(o.mode,0),P=t-e,T=Tt(P),A=Ge(Re(e),Re(t)),z=Tt(A),I=Re(z-T);(P<1e-9||I>10)&&(P=0,(e==0||t==0)&&(P=1e-9,_==2&&d!=Z&&(f=0),h==2&&w!=-Z&&(r=0)));let O=P||A||1e3,y=Tt(O),b=En(10,lt(y)),k=O*(P==0?e==0?.1:1:f),x=ae(Ns(e-k,b/10),9),S=e>=d&&(_==1||_==3&&x<=d||_==2&&x>=d)?d:Z,N=Ge(c,x<S&&e>=S?S:ut(S,x)),W=O*(P==0?t==0?.1:1:r),V=ae(Ln(t+W,b/10),9),L=t<=w&&(h==1||h==3&&V>=w||h==2&&V<=w)?w:-Z,G=ut(p,V>L&&t<=L?L:Ge(L,V));return N==G&&N==0&&(G=100),[N,G]}const ru=new Intl.NumberFormat(xn?eu.language:"en-US"),Ni=e=>ru.format(e),it=Math,Al=it.PI,Re=it.abs,lt=it.floor,Ie=it.round,Pn=it.ceil,ut=it.min,Ge=it.max,En=it.pow,jo=it.sign,Tt=it.log10,zs=it.log2,fu=(e,t=1)=>it.sinh(e)*t,_i=(e,t=1)=>it.asinh(e/t),Z=1/0;function Ko(e){return(Tt((e^e>>31)-(e>>31))|0)+1}function Rl(e,t,n){return ut(Ge(e,t),n)}function J(e){return typeof e=="function"?e:()=>e}const uu=()=>{},Rs=e=>e,Fs=(e,t)=>t,cu=e=>null,qo=e=>!0,Jo=(e,t)=>e==t,An=e=>ae(e,14);function Jt(e,t){return An(ae(An(e/t))*t)}function Ln(e,t){return An(Pn(An(e/t))*t)}function Ns(e,t){return An(lt(An(e/t))*t)}function ae(e,t=0){if(au(e))return e;let n=10**t,l=e*n*(1+Number.EPSILON);return Ie(l)/n}const Dn=new Map;function Vs(e){return((""+e).split(".")[1]||"").length}function rl(e,t,n,l){let o=[],f=l.map(Vs);for(let r=t;r<n;r++){let c=Re(r),p=ae(En(e,r),c);for(let d=0;d<l.length;d++){let w=l[d]*p,_=(w>=0&&r>=0?0:c)+(r>=f[d]?0:f[d]),h=ae(w,_);o.push(h),Dn.set(h,_)}}return o}const ol={},Hs=[],Tn=[null,null],Ht=Array.isArray,au=Number.isInteger,du=e=>e===void 0;function Zo(e){return typeof e=="string"}function Hl(e){let t=!1;if(e!=null){let n=e.constructor;t=n==null||n==Object}return t}function Qo(e){return e!=null&&typeof e=="object"}const hu=Object.getPrototypeOf(Uint8Array);function en(e,t=Hl){let n;if(Ht(e)){let l=e.find(o=>o!=null);if(Ht(l)||t(l)){n=Array(e.length);for(let o=0;o<e.length;o++)n[o]=en(e[o],t)}else n=e.slice()}else if(e instanceof hu)n=e.slice();else if(t(e)){n={};for(let l in e)n[l]=en(e[l],t)}else n=e;return n}function Me(e){let t=arguments;for(let n=1;n<t.length;n++){let l=t[n];for(let o in l)Hl(e[o])?Me(e[o],en(l[o])):e[o]=en(l[o])}return e}const pu=0,mu=1,gu=2;function _u(e,t,n){for(let l=0,o,f=-1;l<t.length;l++){let r=t[l];if(r>f){for(o=r-1;o>=0&&e[o]==null;)e[o--]=null;for(o=r+1;o<n&&e[o]==null;)e[f=o++]=null}}}function wu(e,t){if(yu(e)){let r=e[0].slice();for(let c=1;c<e.length;c++)r.push(...e[c].slice(1));return vu(r[0])||(r=Su(r)),r}let n=new Set;for(let r=0;r<e.length;r++){let p=e[r][0],d=p.length;for(let w=0;w<d;w++)n.add(p[w])}let l=[Array.from(n).sort((r,c)=>r-c)],o=l[0].length,f=new Map;for(let r=0;r<o;r++)f.set(l[0][r],r);for(let r=0;r<e.length;r++){let c=e[r],p=c[0];for(let d=1;d<c.length;d++){let w=c[d],_=Array(o).fill(void 0),h=t?t[r][d]:mu,P=[];for(let T=0;T<w.length;T++){let A=w[T],z=f.get(p[T]);A===null?h!=pu&&(_[z]=A,h==gu&&P.push(z)):_[z]=A}_u(_,P,o),l.push(_)}}return l}const bu=typeof queueMicrotask>"u"?e=>Promise.resolve().then(e):queueMicrotask;function Su(e){let t=e[0],n=t.length,l=Array(n);for(let f=0;f<l.length;f++)l[f]=f;l.sort((f,r)=>t[f]-t[r]);let o=[];for(let f=0;f<e.length;f++){let r=e[f],c=Array(n);for(let p=0;p<n;p++)c[p]=r[l[p]];o.push(c)}return o}function yu(e){let t=e[0][0],n=t.length;for(let l=1;l<e.length;l++){let o=e[l][0];if(o.length!=n)return!1;if(o!=t){for(let f=0;f<n;f++)if(o[f]!=t[f])return!1}}return!0}function vu(e,t=100){const n=e.length;if(n<=1)return!0;let l=0,o=n-1;for(;l<=o&&e[l]==null;)l++;for(;o>=l&&e[o]==null;)o--;if(o<=l)return!0;const f=Ge(1,lt((o-l+1)/t));for(let r=e[l],c=l+f;c<=o;c+=f){const p=e[c];if(p!=null){if(p<=r)return!1;r=p}}return!0}const Bs=["January","February","March","April","May","June","July","August","September","October","November","December"],Is=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Gs(e){return e.slice(0,3)}const ku=Is.map(Gs),Mu=Bs.map(Gs),Pu={MMMM:Bs,MMM:Mu,WWWW:Is,WWW:ku};function Xn(e){return(e<10?"0":"")+e}function Eu(e){return(e<10?"00":e<100?"0":"")+e}const Au={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>Xn(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Xn(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>Xn(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return t==0?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>Xn(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Xn(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>Eu(e.getMilliseconds())};function Vi(e,t){t=t||Pu;let n=[],l=/\{([a-z]+)\}|[^{]+/gi,o;for(;o=l.exec(e);)n.push(o[0][0]=="{"?Au[o[1]]:o[0]);return f=>{let r="";for(let c=0;c<n.length;c++)r+=typeof n[c]=="string"?n[c]:n[c](f,t);return r}}const Lu=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Du(e,t){let n;return t=="UTC"||t=="Etc/UTC"?n=new Date(+e+e.getTimezoneOffset()*6e4):t==Lu?n=e:(n=new Date(e.toLocaleString("en-US",{timeZone:t})),n.setMilliseconds(e.getMilliseconds())),n}const Ws=e=>e%1==0,Fl=[1,2,2.5,5],Tu=rl(10,-16,0,Fl),Us=rl(10,0,16,Fl),Ou=Us.filter(Ws),Cu=Tu.concat(Us),Hi=`
`,Ys="{YYYY}",$o=Hi+Ys,js="{M}/{D}",nl=Hi+js,kl=nl+"/{YY}",Ks="{aa}",xu="{h}:{mm}",bn=xu+Ks,Xo=Hi+bn,es=":{ss}",re=null;function qs(e){let t=e*1e3,n=t*60,l=n*60,o=l*24,f=o*30,r=o*365,p=(e==1?rl(10,0,3,Fl).filter(Ws):rl(10,-3,0,Fl)).concat([t,t*5,t*10,t*15,t*30,n,n*5,n*10,n*15,n*30,l,l*2,l*3,l*4,l*6,l*8,l*12,o,o*2,o*3,o*4,o*5,o*6,o*7,o*8,o*9,o*10,o*15,f,f*2,f*3,f*4,f*6,r,r*2,r*5,r*10,r*25,r*50,r*100]);const d=[[r,Ys,re,re,re,re,re,re,1],[o*28,"{MMM}",$o,re,re,re,re,re,1],[o,js,$o,re,re,re,re,re,1],[l,"{h}"+Ks,kl,re,nl,re,re,re,1],[n,bn,kl,re,nl,re,re,re,1],[t,es,kl+" "+bn,re,nl+" "+bn,re,Xo,re,1],[e,es+".{fff}",kl+" "+bn,re,nl+" "+bn,re,Xo,re,1]];function w(_){return(h,P,T,A,z,I)=>{let O=[],y=z>=r,b=z>=f&&z<r,k=_(T),x=ae(k*e,3),S=wi(k.getFullYear(),y?0:k.getMonth(),b||y?1:k.getDate()),N=ae(S*e,3);if(b||y){let W=b?z/f:0,V=y?z/r:0,L=x==N?x:ae(wi(S.getFullYear()+V,S.getMonth()+W,1)*e,3),G=new Date(Ie(L/e)),Q=G.getFullYear(),$=G.getMonth();for(let j=0;L<=A;j++){let ce=wi(Q+V*j,$+W*j,1),Y=ce-_(ae(ce*e,3));L=ae((+ce+Y)*e,3),L<=A&&O.push(L)}}else{let W=z>=o?o:z,V=lt(T)-lt(x),L=N+V+Ln(x-N,W);O.push(L);let G=_(L),Q=G.getHours()+G.getMinutes()/n+G.getSeconds()/l,$=z/l,j=h.axes[P]._space,ce=I/j;for(;L=ae(L+z,e==1?0:3),!(L>A);)if($>1){let Y=lt(ae(Q+$,6))%24,X=_(L).getHours()-Y;X>1&&(X=-1),L-=X*l,Q=(Q+$)%24;let se=O[O.length-1];ae((L-se)/z,3)*ce>=.7&&O.push(L)}else O.push(L)}return O}}return[p,d,w]}const[zu,Ru,Fu]=qs(1),[Nu,Vu,Hu]=qs(.001);rl(2,-53,53,[1]);function ts(e,t){return e.map(n=>n.map((l,o)=>o==0||o==8||l==null?l:t(o==1||n[8]==0?l:n[1]+l)))}function ns(e,t){return(n,l,o,f,r)=>{let c=t.find(T=>r>=T[0])||t[t.length-1],p,d,w,_,h,P;return l.map(T=>{let A=e(T),z=A.getFullYear(),I=A.getMonth(),O=A.getDate(),y=A.getHours(),b=A.getMinutes(),k=A.getSeconds(),x=z!=p&&c[2]||I!=d&&c[3]||O!=w&&c[4]||y!=_&&c[5]||b!=h&&c[6]||k!=P&&c[7]||c[1];return p=z,d=I,w=O,_=y,h=b,P=k,x(A)})}}function Bu(e,t){let n=Vi(t);return(l,o,f,r,c)=>o.map(p=>n(e(p)))}function wi(e,t,n){return new Date(e,t,n)}function ls(e,t){return t(e)}const Iu="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function is(e,t){return(n,l,o,f)=>f==null?xi:t(e(l))}function Gu(e,t){let n=e.series[t];return n.width?n.stroke(e,t):n.points.width?n.points.stroke(e,t):null}function Wu(e,t){return e.series[t].fill(e,t)}const Uu={show:!0,live:!0,isolate:!1,mount:uu,markers:{show:!0,width:2,stroke:Gu,fill:Wu,dash:"solid"},idx:null,idxs:null,values:[]};function Yu(e,t){let n=e.cursor.points,l=ft(),o=n.size(e,t);_e(l,el,o),_e(l,tl,o);let f=o/-2;_e(l,"marginLeft",f),_e(l,"marginTop",f);let r=n.width(e,t,o);return r&&_e(l,"borderWidth",r),l}function ju(e,t){let n=e.series[t].points;return n._fill||n._stroke}function Ku(e,t){let n=e.series[t].points;return n._stroke||n._fill}function qu(e,t){return e.series[t].points.size}function Ju(e,t,n){return n}const bi=[0,0];function Zu(e,t,n){return bi[0]=t,bi[1]=n,bi}function Ml(e,t,n,l=!0){return o=>{o.button==0&&(!l||o.target==t)&&n(o)}}function Si(e,t,n,l=!0){return o=>{(!l||o.target==t)&&n(o)}}const Qu={show:!0,x:!0,y:!0,lock:!1,move:Zu,points:{show:Yu,size:qu,width:0,stroke:Ku,fill:ju},bind:{mousedown:Ml,mouseup:Ml,click:Ml,dblclick:Ml,mousemove:Si,mouseleave:Si,mouseenter:Si},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{prox:-1,bias:0},left:-10,top:-10,idx:null,dataIdx:Ju,idxs:null,event:null},Js={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},Bi=Me({},Js,{filter:Fs}),Zs=Me({},Bi,{size:10}),Qs=Me({},Js,{show:!1}),Ii='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',$s="bold "+Ii,Xs=1.5,os={show:!0,scale:"x",stroke:Ci,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:$s,side:2,grid:Bi,ticks:Zs,border:Qs,font:Ii,lineGap:Xs,rotate:0},$u="Value",Xu="Time",ss={show:!0,scale:"x",auto:!1,sorted:1,min:Z,max:-Z,idxs:[]};function ec(e,t,n,l,o){return t.map(f=>f==null?"":Ni(f))}function tc(e,t,n,l,o,f,r){let c=[],p=Dn.get(o)||0;n=r?n:ae(Ln(n,o),p);for(let d=n;d<=l;d=ae(d+o,p))c.push(Object.is(d,-0)?0:d);return c}function Li(e,t,n,l,o,f,r){const c=[],p=e.scales[e.axes[t].scale].log,d=p==10?Tt:zs,w=lt(d(n));o=En(p,w),p==10&&w<0&&(o=ae(o,-w));let _=n;do c.push(_),_=_+o,p==10&&(_=ae(_,Dn.get(o))),_>=o*p&&(o=_);while(_<=l);return c}function nc(e,t,n,l,o,f,r){let p=e.scales[e.axes[t].scale].asinh,d=l>p?Li(e,t,Ge(p,n),l,o):[p],w=l>=0&&n<=0?[0]:[];return(n<-p?Li(e,t,Ge(p,-l),-n,o):[p]).reverse().map(h=>-h).concat(w,d)}const er=/./,lc=/[12357]/,ic=/[125]/,rs=/1/,Di=(e,t,n,l)=>e.map((o,f)=>t==4&&o==0||f%l==0&&n.test(o.toExponential()[o<0?1:0])?o:null);function oc(e,t,n,l,o){let f=e.axes[n],r=f.scale,c=e.scales[r],p=e.valToPos,d=f._space,w=p(10,r),_=p(9,r)-w>=d?er:p(7,r)-w>=d?lc:p(5,r)-w>=d?ic:rs;if(_==rs){let h=Re(p(1,r)-w);if(h<d)return Di(t.slice().reverse(),c.distr,_,Pn(d/h)).reverse()}return Di(t,c.distr,_,1)}function sc(e,t,n,l,o){let f=e.axes[n],r=f.scale,c=f._space,p=e.valToPos,d=Re(p(1,r)-p(2,r));return d<c?Di(t.slice().reverse(),3,er,Pn(c/d)).reverse():t}function rc(e,t,n,l){return l==null?xi:t==null?"":Ni(t)}const fs={show:!0,scale:"y",stroke:Ci,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:$s,side:3,grid:Bi,ticks:Zs,border:Qs,font:Ii,lineGap:Xs,rotate:0};function fc(e,t){let n=3+(e||1)*2;return ae(n*t,3)}function uc(e,t){let{scale:n,idxs:l}=e.series[0],o=e._data[0],f=e.valToPos(o[l[0]],n,!0),r=e.valToPos(o[l[1]],n,!0),c=Re(r-f),p=e.series[t],d=c/(p.points.space*ie);return l[1]-l[0]<=d}const us={scale:null,auto:!0,sorted:0,min:Z,max:-Z},tr=(e,t,n,l,o)=>o,cs={show:!0,auto:!0,sorted:0,gaps:tr,alpha:1,facets:[Me({},us,{scale:"x"}),Me({},us,{scale:"y"})]},as={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:tr,alpha:1,points:{show:uc,filter:null},values:null,min:Z,max:-Z,idxs:[],path:null,clip:null};function cc(e,t,n,l,o){return n/10}const nr={time:xf,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},ac=Me({},nr,{time:!1,ori:1}),ds={};function lr(e,t){let n=ds[e];return n||(n={key:e,plots:[],sub(l){n.plots.push(l)},unsub(l){n.plots=n.plots.filter(o=>o!=l)},pub(l,o,f,r,c,p,d){for(let w=0;w<n.plots.length;w++)n.plots[w]!=o&&n.plots[w].pub(l,o,f,r,c,p,d)}},e!=null&&(ds[e]=n)),n}const tn=1,Nl=2;function on(e,t,n){const l=e.mode,o=e.series[t],f=l==2?e._data[t]:e._data,r=e.scales,c=e.bbox;let p=f[0],d=l==2?f[1]:f[t],w=l==2?r[o.facets[0].scale]:r[e.series[0].scale],_=l==2?r[o.facets[1].scale]:r[o.scale],h=c.left,P=c.top,T=c.width,A=c.height,z=e.valToPosH,I=e.valToPosV;return w.ori==0?n(o,p,d,w,_,z,I,h,P,T,A,Gl,zn,Ul,or,rr):n(o,p,d,w,_,I,z,P,h,A,T,Wl,Rn,Wi,sr,fr)}function Bl(e,t){let n=0,l=0,o=oe(e.bands,Hs);for(let f=0;f<o.length;f++){let r=o[f];r.series[0]==t?n=r.dir:r.series[1]==t&&(r.dir==1?l|=1:l|=2)}return[n,l==1?-1:l==2?1:l==3?2:0]}function dc(e,t,n,l,o){let f=e.mode,r=e.series[t],c=f==2?r.facets[1].scale:r.scale,p=e.scales[c];return o==-1?p.min:o==1?p.max:p.distr==3?p.dir==1?p.min:p.max:0}function Ot(e,t,n,l,o,f){return on(e,t,(r,c,p,d,w,_,h,P,T,A,z)=>{let I=r.pxRound;const O=d.dir*(d.ori==0?1:-1),y=d.ori==0?zn:Rn;let b,k;O==1?(b=n,k=l):(b=l,k=n);let x=I(_(c[b],d,A,P)),S=I(h(p[b],w,z,T)),N=I(_(c[k],d,A,P)),W=I(h(f==1?w.max:w.min,w,z,T)),V=new Path2D(o);return y(V,N,W),y(V,x,W),y(V,x,S),V})}function Il(e,t,n,l,o,f){let r=null;if(e.length>0){r=new Path2D;const c=t==0?Ul:Wi;let p=n;for(let _=0;_<e.length;_++){let h=e[_];if(h[1]>h[0]){let P=h[0]-p;P>0&&c(r,p,l,P,l+f),p=h[1]}}let d=n+o-p,w=10;d>0&&c(r,p,l-w/2,d,l+f+w)}return r}function hc(e,t,n){let l=e[e.length-1];l&&l[0]==t?l[1]=n:e.push([t,n])}function Gi(e,t,n,l,o,f,r){let c=[],p=e.length;for(let d=o==1?n:l;d>=n&&d<=l;d+=o)if(t[d]===null){let _=d,h=d;if(o==1)for(;++d<=l&&t[d]===null;)h=d;else for(;--d>=n&&t[d]===null;)h=d;let P=f(e[_]),T=h==_?P:f(e[h]),A=_-o;P=r<=0&&A>=0&&A<p?f(e[A]):P;let I=h+o;T=r>=0&&I>=0&&I<p?f(e[I]):T,T>=P&&c.push([P,T])}return c}function hs(e){return e==0?Rs:e==1?Ie:t=>Jt(t,e)}function ir(e){let t=e==0?Gl:Wl,n=e==0?(o,f,r,c,p,d)=>{o.arcTo(f,r,c,p,d)}:(o,f,r,c,p,d)=>{o.arcTo(r,f,p,c,d)},l=e==0?(o,f,r,c,p)=>{o.rect(f,r,c,p)}:(o,f,r,c,p)=>{o.rect(r,f,p,c)};return(o,f,r,c,p,d=0,w=0)=>{d==0&&w==0?l(o,f,r,c,p):(d=ut(d,c/2,p/2),w=ut(w,c/2,p/2),t(o,f+d,r),n(o,f+c,r,f+c,r+p,d),n(o,f+c,r+p,f,r+p,w),n(o,f,r+p,f,r,w),n(o,f,r,f+c,r,d),o.closePath())}}const Gl=(e,t,n)=>{e.moveTo(t,n)},Wl=(e,t,n)=>{e.moveTo(n,t)},zn=(e,t,n)=>{e.lineTo(t,n)},Rn=(e,t,n)=>{e.lineTo(n,t)},Ul=ir(0),Wi=ir(1),or=(e,t,n,l,o,f)=>{e.arc(t,n,l,o,f)},sr=(e,t,n,l,o,f)=>{e.arc(n,t,l,o,f)},rr=(e,t,n,l,o,f,r)=>{e.bezierCurveTo(t,n,l,o,f,r)},fr=(e,t,n,l,o,f,r)=>{e.bezierCurveTo(n,t,o,l,r,f)};function ur(e){return(t,n,l,o,f)=>on(t,n,(r,c,p,d,w,_,h,P,T,A,z)=>{let{pxRound:I,points:O}=r,y,b;d.ori==0?(y=Gl,b=or):(y=Wl,b=sr);const k=ae(O.width*ie,3);let x=(O.size-O.width)/2*ie,S=ae(x*2,3),N=new Path2D,W=new Path2D,{left:V,top:L,width:G,height:Q}=t.bbox;Ul(W,V-S,L-S,G+S*2,Q+S*2);const $=j=>{if(p[j]!=null){let ce=I(_(c[j],d,A,P)),Y=I(h(p[j],w,z,T));y(N,ce+x,Y),b(N,ce,Y,x,0,Al*2)}};if(f)f.forEach($);else for(let j=l;j<=o;j++)$(j);return{stroke:k>0?N:null,fill:N,clip:W,flags:tn|Nl}})}function cr(e){return(t,n,l,o,f,r)=>{l!=o&&(f!=l&&r!=l&&e(t,n,l),f!=o&&r!=o&&e(t,n,o),e(t,n,r))}}const pc=cr(zn),mc=cr(Rn);function ar(e){const t=oe(e==null?void 0:e.alignGaps,0);return(n,l,o,f)=>on(n,l,(r,c,p,d,w,_,h,P,T,A,z)=>{let I=r.pxRound,O=H=>I(_(H,d,A,P)),y=H=>I(h(H,w,z,T)),b,k;d.ori==0?(b=zn,k=pc):(b=Rn,k=mc);const x=d.dir*(d.ori==0?1:-1),S={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:tn},N=S.stroke;let W=Z,V=-Z,L,G,Q,$=O(c[x==1?o:f]),j=Mn(p,o,f,1*x),ce=Mn(p,o,f,-1*x),Y=O(c[j]),ot=O(c[ce]),Fe=!1;for(let H=x==1?o:f;H>=o&&H<=f;H+=x){let he=O(c[H]),B=p[H];he==$?B!=null?(G=y(B),W==Z&&(b(N,he,G),L=G),W=ut(G,W),V=Ge(G,V)):B===null&&(Fe=!0):(W!=Z&&(k(N,$,W,V,L,G),Q=$),B!=null?(G=y(B),b(N,he,G),W=V=L=G):(W=Z,V=-Z,B===null&&(Fe=!0)),$=he)}W!=Z&&W!=V&&Q!=$&&k(N,$,W,V,L,G);let[X,se]=Bl(n,l);if(r.fill!=null||X!=0){let H=S.fill=new Path2D(N),he=r.fillTo(n,l,r.min,r.max,X),B=y(he);b(H,ot,B),b(H,Y,B)}if(!r.spanGaps){let H=[];Fe&&H.push(...Gi(c,p,o,f,x,O,t)),S.gaps=H=r.gaps(n,l,o,f,H),S.clip=Il(H,d.ori,P,T,A,z)}return se!=0&&(S.band=se==2?[Ot(n,l,o,f,N,-1),Ot(n,l,o,f,N,1)]:Ot(n,l,o,f,N,se)),S})}function gc(e){const t=oe(e.align,1),n=oe(e.ascDesc,!1),l=oe(e.alignGaps,0),o=oe(e.extend,!1);return(f,r,c,p)=>on(f,r,(d,w,_,h,P,T,A,z,I,O,y)=>{let b=d.pxRound,{left:k,width:x}=f.bbox,S=X=>b(T(X,h,O,z)),N=X=>b(A(X,P,y,I)),W=h.ori==0?zn:Rn;const V={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:tn},L=V.stroke,G=h.dir*(h.ori==0?1:-1);c=Mn(_,c,p,1),p=Mn(_,c,p,-1);let Q=N(_[G==1?c:p]),$=S(w[G==1?c:p]),j=$,ce=$;o&&t==-1&&(ce=k,W(L,ce,Q)),W(L,$,Q);for(let X=G==1?c:p;X>=c&&X<=p;X+=G){let se=_[X];if(se==null)continue;let H=S(w[X]),he=N(se);t==1?W(L,H,Q):W(L,j,he),W(L,H,he),Q=he,j=H}let Y=j;o&&t==1&&(Y=k+x,W(L,Y,Q));let[ot,Fe]=Bl(f,r);if(d.fill!=null||ot!=0){let X=V.fill=new Path2D(L),se=d.fillTo(f,r,d.min,d.max,ot),H=N(se);W(X,Y,H),W(X,ce,H)}if(!d.spanGaps){let X=[];X.push(...Gi(w,_,c,p,G,S,l));let se=d.width*ie/2,H=n||t==1?se:-se,he=n||t==-1?-se:se;X.forEach(B=>{B[0]+=H,B[1]+=he}),V.gaps=X=d.gaps(f,r,c,p,X),V.clip=Il(X,h.ori,z,I,O,y)}return Fe!=0&&(V.band=Fe==2?[Ot(f,r,c,p,L,-1),Ot(f,r,c,p,L,1)]:Ot(f,r,c,p,L,Fe)),V})}function _c(e){e=e||ol;const t=oe(e.size,[.6,Z,1]),n=e.align||0,l=(e.gap||0)*ie;let o=e.radius;o=o==null?[0,0]:typeof o=="number"?[o,0]:o;const f=J(o),r=1-t[0],c=oe(t[1],Z)*ie,p=oe(t[2],1)*ie,d=oe(e.disp,ol),w=oe(e.each,P=>{}),{fill:_,stroke:h}=d;return(P,T,A,z)=>on(P,T,(I,O,y,b,k,x,S,N,W,V,L)=>{let G=I.pxRound,Q,$;b.ori==0?[Q,$]=f(P,T):[$,Q]=f(P,T);const j=b.dir*(b.ori==0?1:-1),ce=k.dir*(k.ori==1?1:-1);let Y=b.ori==0?Ul:Wi,ot=b.ori==0?w:(R,de,Pe,Le,qe,De,Je)=>{w(R,de,Pe,qe,Le,Je,De)},[Fe,X]=Bl(P,T),se=k.distr==3?Fe==1?k.max:k.min:0,H=S(se,k,L,W),he,B,ee=G(I.width*ie),Et=!1,At=null,St=null,Ct=null,Lt=null;_!=null&&(ee==0||h!=null)&&(Et=!0,At=_.values(P,T,A,z),St=new Map,new Set(At).forEach(R=>{R!=null&&St.set(R,new Path2D)}),ee>0&&(Ct=h.values(P,T,A,z),Lt=new Map,new Set(Ct).forEach(R=>{R!=null&&Lt.set(R,new Path2D)})));let{x0:ct,size:Gt}=d,ul=!0;if(ct!=null&&Gt!=null){O=ct.values(P,T,A,z),ct.unit==2&&(O=O.map(de=>P.posToVal(N+de*V,b.key,!0)));let R=Gt.values(P,T,A,z);Gt.unit==2?B=R[0]*V:B=x(R[0],b,V,N)-x(0,b,V,N),ee>=B/2&&(ee=0),B=G(Rl(B-ee,p,c)),he=j==1?-ee/2:B+ee/2}else{let R=V;if(O.length>1){let Pe=null;for(let Le=0,qe=1/0;Le<O.length;Le++)if(y[Le]!==void 0){if(Pe!=null){let De=Re(O[Le]-O[Pe]);De<qe&&(qe=De,R=Re(x(O[Le],b,V,N)-x(O[Pe],b,V,N)))}Pe=Le}}let de=R*r;B=R-de-l,ee>=B/2&&(ee=0),de+l<5&&(G=Rs),B=G(Rl(R-de,p,c)-ee-l),he=(n==0?B/2:n==j?0:B)-n*j*l/2,B+ee>R&&(ul=!1)}const yt={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:tn|Nl};let Fn;X!=0&&(yt.band=new Path2D,Fn=G(S(X==1?k.max:k.min,k,L,W)));const Nn=Et?null:new Path2D,Wt=yt.band;let{y0:st,y1:Vn}=d,xt=null;st!=null&&Vn!=null&&(y=Vn.values(P,T,A,z),xt=st.values(P,T,A,z));let Ut=Q*B,te=$*B;for(let R=j==1?A:z;R>=A&&R<=z;R+=j){let de=y[R];if(de===void 0)continue;let Pe=b.distr!=2||d!=null?O[R]:R,Le=x(Pe,b,V,N),qe=S(oe(de,se),k,L,W);xt!=null&&de!=null&&(H=S(xt[R],k,L,W));let De=G(Le-he),Je=G(Ge(qe,H)),$e=G(ut(qe,H)),at=Je-$e;if(de!=null){let vt=de<0?te:Ut,dt=de<0?Ut:te;Et?(ee>0&&Ct[R]!=null&&Y(Lt.get(Ct[R]),De,$e+lt(ee/2),B,Ge(0,at-ee),vt,dt),At[R]!=null&&Y(St.get(At[R]),De,$e+lt(ee/2),B,Ge(0,at-ee),vt,dt)):Y(Nn,De,$e+lt(ee/2),B,Ge(0,at-ee),vt,dt),ot(P,T,R,De-ee/2,$e,B+ee,at)}X!=0&&(de!=null||ul)&&(ce*X==1?(Je=$e,$e=Fn):($e=Je,Je=Fn),at=Je-$e,Y(Wt,De-ee/2,$e,B+ee,Ge(0,at),0,0))}return ee>0?yt.stroke=Et?Lt:Nn:Et||(yt._fill=I.width==0?I._fill:I._stroke??I._fill,yt.width=0),yt.fill=Et?St:Nn,yt})}function wc(e,t){const n=oe(t==null?void 0:t.alignGaps,0);return(l,o,f,r)=>on(l,o,(c,p,d,w,_,h,P,T,A,z,I)=>{let O=c.pxRound,y=Y=>O(h(Y,w,z,T)),b=Y=>O(P(Y,_,I,A)),k,x,S;w.ori==0?(k=Gl,S=zn,x=rr):(k=Wl,S=Rn,x=fr);const N=w.dir*(w.ori==0?1:-1);f=Mn(d,f,r,1),r=Mn(d,f,r,-1);let W=y(p[N==1?f:r]),V=W,L=[],G=[];for(let Y=N==1?f:r;Y>=f&&Y<=r;Y+=N)if(d[Y]!=null){let Fe=p[Y],X=y(Fe);L.push(V=X),G.push(b(d[Y]))}const Q={stroke:e(L,G,k,S,x,O),fill:null,clip:null,band:null,gaps:null,flags:tn},$=Q.stroke;let[j,ce]=Bl(l,o);if(c.fill!=null||j!=0){let Y=Q.fill=new Path2D($),ot=c.fillTo(l,o,c.min,c.max,j),Fe=b(ot);S(Y,V,Fe),S(Y,W,Fe)}if(!c.spanGaps){let Y=[];Y.push(...Gi(p,d,f,r,N,y,n)),Q.gaps=Y=c.gaps(l,o,f,r,Y),Q.clip=Il(Y,w.ori,T,A,z,I)}return ce!=0&&(Q.band=ce==2?[Ot(l,o,f,r,$,-1),Ot(l,o,f,r,$,1)]:Ot(l,o,f,r,$,ce)),Q})}function bc(e){return wc(Sc,e)}function Sc(e,t,n,l,o,f){const r=e.length;if(r<2)return null;const c=new Path2D;if(n(c,e[0],t[0]),r==2)l(c,e[1],t[1]);else{let p=Array(r),d=Array(r-1),w=Array(r-1),_=Array(r-1);for(let h=0;h<r-1;h++)w[h]=t[h+1]-t[h],_[h]=e[h+1]-e[h],d[h]=w[h]/_[h];p[0]=d[0];for(let h=1;h<r-1;h++)d[h]===0||d[h-1]===0||d[h-1]>0!=d[h]>0?p[h]=0:(p[h]=3*(_[h-1]+_[h])/((2*_[h]+_[h-1])/d[h-1]+(_[h]+2*_[h-1])/d[h]),isFinite(p[h])||(p[h]=0));p[r-1]=d[r-2];for(let h=0;h<r-1;h++)o(c,e[h]+_[h]/3,t[h]+p[h]*_[h]/3,e[h+1]-_[h]/3,t[h+1]-p[h+1]*_[h]/3,e[h+1],t[h+1])}return c}const Ti=new Set;function ps(){for(let e of Ti)e.syncRect(!0)}xn&&(Xt($f,vn,ps),Xt(Xf,vn,ps,!0),Xt(xl,vn,()=>{Ke.pxRatio=ie}));const yc=ar(),vc=ur();function ms(e,t,n,l){return(l?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((f,r)=>Oi(f,r,t,n))}function kc(e,t){return e.map((n,l)=>l==0?null:Me({},t,n))}function Oi(e,t,n,l){return Me({},t==0?n:l,e)}function dr(e,t,n){return t==null?Tn:[t,n]}const Mc=dr;function Pc(e,t,n){return t==null?Tn:zl(t,n,Fi,!0)}function hr(e,t,n,l){return t==null?Tn:Vl(t,n,e.scales[l].log,!1)}const Ec=hr;function pr(e,t,n,l){return t==null?Tn:Ri(t,n,e.scales[l].log,!1)}const Ac=pr;function Lc(e,t,n,l,o){let f=Ge(Ko(e),Ko(t)),r=t-e,c=Vt(o/l*r,n);do{let p=n[c],d=l*p/r;if(d>=o&&f+(p<5?Dn.get(p):0)<=17)return[p,d]}while(++c<n.length);return[0,0]}function gs(e){let t,n;return e=e.replace(/(\d+)px/,(l,o)=>(t=Ie((n=+o)*ie))+"px"),[e,t,n]}function Dc(e){e.show&&[e.font,e.labelFont].forEach(t=>{let n=ae(t[2]*ie,1);t[0]=t[0].replace(/[0-9.]+px/,n+"px"),t[1]=n})}function Ke(e,t,n){const l={mode:oe(e.mode,1)},o=l.mode;function f(i,s){return((s.distr==3?Tt(i>0?i:s.clamp(l,i,s.min,s.max,s.key)):s.distr==4?_i(i,s.asinh):i)-s._min)/(s._max-s._min)}function r(i,s,u,a){let m=f(i,s);return a+u*(s.dir==-1?1-m:m)}function c(i,s,u,a){let m=f(i,s);return a+u*(s.dir==-1?m:1-m)}function p(i,s,u,a){return s.ori==0?r(i,s,u,a):c(i,s,u,a)}l.valToPosH=r,l.valToPosV=c;let d=!1;l.status=0;const w=l.root=ft(zf);if(e.id!=null&&(w.id=e.id),nt(w,e.class),e.title){let i=ft(Nf,w);i.textContent=e.title}const _=gt("canvas"),h=l.ctx=_.getContext("2d"),P=ft(Vf,w);Xt("click",P,i=>{i.target===A&&(pe!=rn||me!=fn)&&Ve.click(l,i)},!0);const T=l.under=ft(Hf,P);P.appendChild(_);const A=l.over=ft(Bf,P);e=en(e);const z=+oe(e.pxAlign,1),I=hs(z);(e.plugins||[]).forEach(i=>{i.opts&&(e=i.opts(l,e)||e)});const O=e.ms||.001,y=l.series=o==1?ms(e.series||[],ss,as,!1):kc(e.series||[null],cs),b=l.axes=ms(e.axes||[],os,fs,!0),k=l.scales={},x=l.bands=e.bands||[];x.forEach(i=>{i.fill=J(i.fill||null),i.dir=oe(i.dir,-1)});const S=o==2?y[1].facets[0].scale:y[0].scale,N={axes:Or,series:Er},W=(e.drawOrder||["axes","series"]).map(i=>N[i]);function V(i){let s=k[i];if(s==null){let u=(e.scales||ol)[i]||ol;if(u.from!=null)V(u.from),k[i]=Me({},k[u.from],u,{key:i});else{s=k[i]=Me({},i==S?nr:ac,u),s.key=i;let a=s.time,m=s.range,g=Ht(m);if((i!=S||o==2&&!a)&&(g&&(m[0]==null||m[1]==null)&&(m={min:m[0]==null?Uo:{mode:1,hard:m[0],soft:m[0]},max:m[1]==null?Uo:{mode:1,hard:m[1],soft:m[1]}},g=!1),!g&&Hl(m))){let v=m;m=(M,D,C)=>D==null?Tn:zl(D,C,v)}s.range=J(m||(a?Mc:i==S?s.distr==3?Ec:s.distr==4?Ac:dr:s.distr==3?hr:s.distr==4?pr:Pc)),s.auto=J(g?!1:s.auto),s.clamp=J(s.clamp||cc),s._min=s._max=null}}}V("x"),V("y"),o==1&&y.forEach(i=>{V(i.scale)}),b.forEach(i=>{V(i.scale)});for(let i in e.scales)V(i);const L=k[S],G=L.distr;let Q,$;L.ori==0?(nt(w,Rf),Q=r,$=c):(nt(w,Ff),Q=c,$=r);const j={};for(let i in k){let s=k[i];(s.min!=null||s.max!=null)&&(j[i]={min:s.min,max:s.max},s.min=s.max=null)}const ce=e.tzDate||(i=>new Date(Ie(i/O))),Y=e.fmtDate||Vi,ot=O==1?Fu(ce):Hu(ce),Fe=ns(ce,ts(O==1?Ru:Vu,Y)),X=is(ce,ls(Iu,Y)),se=[],H=l.legend=Me({},Uu,e.legend),he=H.show,B=H.markers;H.idxs=se,B.width=J(B.width),B.dash=J(B.dash),B.stroke=J(B.stroke),B.fill=J(B.fill);let ee,Et,At,St=[],Ct=[],Lt,ct=!1,Gt={};if(H.live){const i=y[1]?y[1].values:null;ct=i!=null,Lt=ct?i(l,1,0):{_:0};for(let s in Lt)Gt[s]=xi}if(he)if(ee=gt("table",jf,w),At=gt("tbody",null,ee),H.mount(l,ee),ct){Et=gt("thead",null,ee,At);let i=gt("tr",null,Et);gt("th",null,i);for(var ul in Lt)gt("th",Co,i).textContent=ul}else nt(ee,qf),H.live&&nt(ee,Kf);const yt={show:!0},Fn={show:!1};function Nn(i,s){if(s==0&&(ct||!H.live||o==2))return Tn;let u=[],a=gt("tr",Jf,At,At.childNodes[s]);nt(a,i.class),i.show||nt(a,Zt);let m=gt("th",null,a);if(B.show){let M=ft(Zf,m);if(s>0){let D=B.width(l,s);D&&(M.style.border=D+"px "+B.dash(l,s)+" "+B.stroke(l,s)),M.style.background=B.fill(l,s)}}let g=ft(Co,m);g.textContent=i.label,s>0&&(B.show||(g.style.color=i.width>0?B.stroke(l,s):B.fill(l,s)),st("click",m,M=>{if(U._lock)return;Yt(M);let D=y.indexOf(i);if((M.ctrlKey||M.metaKey)!=H.isolate){let C=y.some((E,F)=>F>0&&F!=D&&E.show);y.forEach((E,F)=>{F>0&&Mt(F,C?F==D?yt:Fn:yt,!0,ve.setSeries)})}else Mt(D,{show:!i.show},!0,ve.setSeries)},!1),Bn&&st(No,m,M=>{U._lock||(Yt(M),Mt(y.indexOf(i),an,!0,ve.setSeries))},!1));for(var v in Lt){let M=gt("td",Qf,a);M.textContent="--",u.push(M)}return[a,u]}const Wt=new Map;function st(i,s,u,a=!0){const m=Wt.get(s)||{},g=U.bind[i](l,s,u,a);g&&(Xt(i,s,m[i]=g),Wt.set(s,m))}function Vn(i,s,u){const a=Wt.get(s)||{};for(let m in a)(i==null||m==i)&&(Ai(m,s,a[m]),delete a[m]);i==null&&Wt.delete(s)}let xt=0,Ut=0,te=0,R=0,de=0,Pe=0,Le=0,qe=0,De=0,Je=0;l.bbox={};let $e=!1,at=!1,vt=!1,dt=!1,Yl=!1,rt=!1;function jl(i,s,u){(u||i!=l.width||s!=l.height)&&Ui(i,s),Wn(!1),vt=!0,at=!0,U.left>=0&&(dt=rt=!0),Kt()}function Ui(i,s){l.width=xt=te=i,l.height=Ut=R=s,de=Pe=0,wr(),br();let u=l.bbox;Le=u.left=Jt(de*ie,.5),qe=u.top=Jt(Pe*ie,.5),De=u.width=Jt(te*ie,.5),Je=u.height=Jt(R*ie,.5)}const mr=3;function gr(){let i=!1,s=0;for(;!i;){s++;let u=Dr(s),a=Tr(s);i=s==mr||u&&a,i||(Ui(l.width,l.height),at=!0)}}function _r({width:i,height:s}){jl(i,s)}l.setSize=_r;function wr(){let i=!1,s=!1,u=!1,a=!1;b.forEach((m,g)=>{if(m.show&&m._show){let{side:v,_size:M}=m,D=v%2,C=m.label!=null?m.labelSize:0,E=M+C;E>0&&(D?(te-=E,v==3?(de+=E,a=!0):u=!0):(R-=E,v==0?(Pe+=E,i=!0):s=!0))}}),jt[0]=i,jt[1]=u,jt[2]=s,jt[3]=a,te-=zt[1]+zt[3],de+=zt[3],R-=zt[2]+zt[0],Pe+=zt[0]}function br(){let i=de+te,s=Pe+R,u=de,a=Pe;function m(g,v){switch(g){case 1:return i+=v,i-v;case 2:return s+=v,s-v;case 3:return u-=v,u+v;case 0:return a-=v,a+v}}b.forEach((g,v)=>{if(g.show&&g._show){let M=g.side;g._pos=m(M,g._size),g.label!=null&&(g._lpos=m(M,g.labelSize))}})}const U=l.cursor=Me({},Qu,{drag:{y:o==2}},e.cursor),Yt=i=>{U.event=i};U.idxs=se,U._lock=!1;let kt=U.points;kt.show=J(kt.show),kt.size=J(kt.size),kt.stroke=J(kt.stroke),kt.width=J(kt.width),kt.fill=J(kt.fill);const Hn=l.focus=Me({},e.focus||{alpha:.3},U.focus),Bn=Hn.prox>=0;let Xe=[null];function Sr(i,s){if(s>0){let u=U.points.show(l,s);if(u)return nt(u,Yf),nt(u,i.class),_n(u,-10,-10,te,R),A.insertBefore(u,Xe[s]),u}}function Yi(i,s){if(o==1||s>0){let u=o==1&&k[i.scale].time,a=i.value;i.value=u?Zo(a)?is(ce,ls(a,Y)):a||X:a||rc,i.label=i.label||(u?Xu:$u)}if(s>0){i.width=i.width==null?1:i.width,i.paths=i.paths||yc||cu,i.fillTo=J(i.fillTo||dc),i.pxAlign=+oe(i.pxAlign,z),i.pxRound=hs(i.pxAlign),i.stroke=J(i.stroke||null),i.fill=J(i.fill||null),i._stroke=i._fill=i._paths=i._focus=null;let u=fc(Ge(1,i.width),1),a=i.points=Me({},{size:u,width:Ge(1,u*.2),stroke:i.stroke,space:u*2,paths:vc,_stroke:null,_fill:null},i.points);a.show=J(a.show),a.filter=J(a.filter),a.fill=J(a.fill),a.stroke=J(a.stroke),a.paths=J(a.paths),a.pxAlign=i.pxAlign}if(he){let u=Nn(i,s);St.splice(s,0,u[0]),Ct.splice(s,0,u[1]),H.values.push(null)}if(U.show){se.splice(s,0,null);let u=Sr(i,s);u&&Xe.splice(s,0,u)}Be("addSeries",s)}function yr(i,s){s=s??y.length,i=o==1?Oi(i,s,ss,as):Oi(i,s,null,cs),y.splice(s,0,i),Yi(y[s],s)}l.addSeries=yr;function vr(i){if(y.splice(i,1),he){H.values.splice(i,1),Ct.splice(i,1);let s=St.splice(i,1)[0];Vn(null,s.firstChild),s.remove()}U.show&&(se.splice(i,1),Xe.length>1&&Xe.splice(i,1)[0].remove()),Be("delSeries",i)}l.delSeries=vr;const jt=[!1,!1,!1,!1];function kr(i,s){if(i._show=i.show,i.show){let u=i.side%2,a=k[i.scale];a==null&&(i.scale=u?y[1].scale:S,a=k[i.scale]);let m=a.time;i.size=J(i.size),i.space=J(i.space),i.rotate=J(i.rotate),Ht(i.incrs)&&i.incrs.forEach(v=>{!Dn.has(v)&&Dn.set(v,Vs(v))}),i.incrs=J(i.incrs||(a.distr==2?Ou:m?O==1?zu:Nu:Cu)),i.splits=J(i.splits||(m&&a.distr==1?ot:a.distr==3?Li:a.distr==4?nc:tc)),i.stroke=J(i.stroke),i.grid.stroke=J(i.grid.stroke),i.ticks.stroke=J(i.ticks.stroke),i.border.stroke=J(i.border.stroke);let g=i.values;i.values=Ht(g)&&!Ht(g[0])?J(g):m?Ht(g)?ns(ce,ts(g,Y)):Zo(g)?Bu(ce,g):g||Fe:g||ec,i.filter=J(i.filter||(a.distr>=3&&a.log==10?oc:a.distr==3&&a.log==2?sc:Fs)),i.font=gs(i.font),i.labelFont=gs(i.labelFont),i._size=i.size(l,null,s,0),i._space=i._rotate=i._incrs=i._found=i._splits=i._values=null,i._size>0&&(jt[s]=!0,i._el=ft(If,P))}}function In(i,s,u,a){let[m,g,v,M]=u,D=s%2,C=0;return D==0&&(M||g)&&(C=s==0&&!m||s==2&&!v?Ie(os.size/3):0),D==1&&(m||v)&&(C=s==1&&!g||s==3&&!M?Ie(fs.size/2):0),C}const ji=l.padding=(e.padding||[In,In,In,In]).map(i=>J(oe(i,In))),zt=l._padding=ji.map((i,s)=>i(l,s,jt,0));let Ne,Te=null,Oe=null;const cl=o==1?y[0].idxs:null;let ht=null,al=!1;function Ki(i,s){if(t=i==null?[]:en(i,Qo),o==2){Ne=0;for(let u=1;u<y.length;u++)Ne+=t[u][0].length;l.data=t=i}else if(t[0]==null&&(t[0]=[]),l.data=t.slice(),ht=t[0],Ne=ht.length,G==2){t[0]=Array(Ne);for(let u=0;u<Ne;u++)t[0][u]=u}if(l._data=t,Wn(!0),Be("setData"),G==2&&(vt=!0),s!==!1){let u=L;u.auto(l,al)?Kl():un(S,u.min,u.max),dt=dt||U.left>=0,rt=!0,Kt()}}l.setData=Ki;function Kl(){al=!0;let i,s;o==1&&(Ne>0?(Te=cl[0]=0,Oe=cl[1]=Ne-1,i=t[0][Te],s=t[0][Oe],G==2?(i=Te,s=Oe):i==s&&(G==3?[i,s]=Vl(i,i,L.log,!1):G==4?[i,s]=Ri(i,i,L.log,!1):L.time?s=i+Ie(86400/O):[i,s]=zl(i,s,Fi,!0))):(Te=cl[0]=i=null,Oe=cl[1]=s=null)),un(S,i,s)}let dl,sn,ql,Jl,Zl,Ql,$l,Xl,ei,Gn;function qi(i,s,u,a,m,g){i??(i=zo),u??(u=Hs),a??(a="butt"),m??(m=zo),g??(g="round"),i!=dl&&(h.strokeStyle=dl=i),m!=sn&&(h.fillStyle=sn=m),s!=ql&&(h.lineWidth=ql=s),g!=Zl&&(h.lineJoin=Zl=g),a!=Ql&&(h.lineCap=Ql=a),u!=Jl&&h.setLineDash(Jl=u)}function Ji(i,s,u,a){s!=sn&&(h.fillStyle=sn=s),i!=$l&&(h.font=$l=i),u!=Xl&&(h.textAlign=Xl=u),a!=ei&&(h.textBaseline=ei=a)}function ti(i,s,u,a,m=0){if(a.length>0&&i.auto(l,al)&&(s==null||s.min==null)){let g=oe(Te,0),v=oe(Oe,a.length-1),M=u.min==null?i.distr==3?iu(a,g,v):lu(a,g,v,m):[u.min,u.max];i.min=ut(i.min,u.min=M[0]),i.max=Ge(i.max,u.max=M[1])}}function Mr(){let i=en(k,Qo);for(let a in i){let m=i[a],g=j[a];if(g!=null&&g.min!=null)Me(m,g),a==S&&Wn(!0);else if(a!=S||o==2)if(Ne==0&&m.from==null){let v=m.range(l,null,null,a);m.min=v[0],m.max=v[1]}else m.min=Z,m.max=-Z}if(Ne>0){y.forEach((a,m)=>{if(o==1){let g=a.scale,v=i[g],M=j[g];if(m==0){let D=v.range(l,v.min,v.max,g);v.min=D[0],v.max=D[1],Te=Vt(v.min,t[0]),Oe=Vt(v.max,t[0]),Oe-Te>1&&(t[0][Te]<v.min&&Te++,t[0][Oe]>v.max&&Oe--),a.min=ht[Te],a.max=ht[Oe]}else a.show&&a.auto&&ti(v,M,a,t[m],a.sorted);a.idxs[0]=Te,a.idxs[1]=Oe}else if(m>0&&a.show&&a.auto){let[g,v]=a.facets,M=g.scale,D=v.scale,[C,E]=t[m];ti(i[M],j[M],g,C,g.sorted),ti(i[D],j[D],v,E,v.sorted),a.min=v.min,a.max=v.max}});for(let a in i){let m=i[a],g=j[a];if(m.from==null&&(g==null||g.min==null)){let v=m.range(l,m.min==Z?null:m.min,m.max==-Z?null:m.max,a);m.min=v[0],m.max=v[1]}}}for(let a in i){let m=i[a];if(m.from!=null){let g=i[m.from];if(g.min==null)m.min=m.max=null;else{let v=m.range(l,g.min,g.max,a);m.min=v[0],m.max=v[1]}}}let s={},u=!1;for(let a in i){let m=i[a],g=k[a];if(g.min!=m.min||g.max!=m.max){g.min=m.min,g.max=m.max;let v=g.distr;g._min=v==3?Tt(g.min):v==4?_i(g.min,g.asinh):g.min,g._max=v==3?Tt(g.max):v==4?_i(g.max,g.asinh):g.max,s[a]=u=!0}}if(u){y.forEach((a,m)=>{o==2?m>0&&s.y&&(a._paths=null):s[a.scale]&&(a._paths=null)});for(let a in s)vt=!0,Be("setScale",a);U.show&&U.left>=0&&(dt=rt=!0)}for(let a in j)j[a]=null}function Pr(i){let s=Rl(Te-1,0,Ne-1),u=Rl(Oe+1,0,Ne-1);for(;i[s]==null&&s>0;)s--;for(;i[u]==null&&u<Ne-1;)u++;return[s,u]}function Er(){Ne>0&&(y.forEach((i,s)=>{if(s>0&&i.show&&(Zi(s,!1),Zi(s,!0),i._paths==null)){let u=o==2?[0,t[s][0].length-1]:Pr(t[s]);i._paths=i.paths(l,s,u[0],u[1])}}),y.forEach((i,s)=>{if(s>0&&i.show){Gn!=i.alpha&&(h.globalAlpha=Gn=i.alpha),i._paths!=null&&Qi(s,!1);{let u=i._paths!=null?i._paths.gaps:null,a=i.points.show(l,s,Te,Oe,u),m=i.points.filter(l,s,a,u);(a||m)&&(i.points._paths=i.points.paths(l,s,Te,Oe,m),Qi(s,!0))}Gn!=1&&(h.globalAlpha=Gn=1),Be("drawSeries",s)}}))}function Zi(i,s){let u=s?y[i].points:y[i];u._stroke=u.stroke(l,i),u._fill=u.fill(l,i)}function Qi(i,s){let u=s?y[i].points:y[i],{stroke:a,fill:m,clip:g,flags:v,_stroke:M=u._stroke,_fill:D=u._fill,_width:C=u.width}=u._paths;C=ae(C*ie,3);let E=null,F=C%2/2;s&&D==null&&(D=C>0?"#fff":M);let K=u.pxAlign==1&&F>0;if(K&&h.translate(F,F),!s){let be=Le-C/2,q=qe-C/2,le=De+C,ne=Je+C;E=new Path2D,E.rect(be,q,le,ne)}s?ni(M,C,u.dash,u.cap,D,a,m,v,g):Ar(i,M,C,u.dash,u.cap,D,a,m,v,E,g),K&&h.translate(-F,-F)}function Ar(i,s,u,a,m,g,v,M,D,C,E){let F=!1;x.forEach((K,be)=>{if(K.series[0]==i){let q=y[K.series[1]],le=t[K.series[1]],ne=(q._paths||ol).band;Ht(ne)&&(ne=K.dir==1?ne[0]:ne[1]);let ue,we=null;q.show&&ne&&su(le,Te,Oe)?(we=K.fill(l,be)||g,ue=q._paths.clip):ne=null,ni(s,u,a,m,we,v,M,D,C,E,ue,ne),F=!0}}),F||ni(s,u,a,m,g,v,M,D,C,E)}const $i=tn|Nl;function ni(i,s,u,a,m,g,v,M,D,C,E,F){qi(i,s,u,a,m),(D||C||F)&&(h.save(),D&&h.clip(D),C&&h.clip(C)),F?(M&$i)==$i?(h.clip(F),E&&h.clip(E),pl(m,v),hl(i,g,s)):M&Nl?(pl(m,v),h.clip(F),hl(i,g,s)):M&tn&&(h.save(),h.clip(F),E&&h.clip(E),pl(m,v),h.restore(),hl(i,g,s)):(pl(m,v),hl(i,g,s)),(D||C||F)&&h.restore()}function hl(i,s,u){u>0&&(s instanceof Map?s.forEach((a,m)=>{h.strokeStyle=dl=m,h.stroke(a)}):s!=null&&i&&h.stroke(s))}function pl(i,s){s instanceof Map?s.forEach((u,a)=>{h.fillStyle=sn=a,h.fill(u)}):s!=null&&i&&h.fill(s)}function Lr(i,s,u,a){let m=b[i],g;if(a<=0)g=[0,0];else{let v=m._space=m.space(l,i,s,u,a),M=m._incrs=m.incrs(l,i,s,u,a,v);g=Lc(s,u,M,a,v)}return m._found=g}function li(i,s,u,a,m,g,v,M,D,C){let E=v%2/2;z==1&&h.translate(E,E),qi(M,v,D,C,M),h.beginPath();let F,K,be,q,le=m+(a==0||a==3?-g:g);u==0?(K=m,q=le):(F=m,be=le);for(let ne=0;ne<i.length;ne++)s[ne]!=null&&(u==0?F=be=i[ne]:K=q=i[ne],h.moveTo(F,K),h.lineTo(be,q));h.stroke(),z==1&&h.translate(-E,-E)}function Dr(i){let s=!0;return b.forEach((u,a)=>{if(!u.show)return;let m=k[u.scale];if(m.min==null){u._show&&(s=!1,u._show=!1,Wn(!1));return}else u._show||(s=!1,u._show=!0,Wn(!1));let g=u.side,v=g%2,{min:M,max:D}=m,[C,E]=Lr(a,M,D,v==0?te:R);if(E==0)return;let F=m.distr==2,K=u._splits=u.splits(l,a,M,D,C,E,F),be=m.distr==2?K.map(ue=>ht[ue]):K,q=m.distr==2?ht[K[1]]-ht[K[0]]:C,le=u._values=u.values(l,u.filter(l,be,a,E,q),a,E,q);u._rotate=g==2?u.rotate(l,le,a,E):0;let ne=u._size;u._size=Pn(u.size(l,le,a,i)),ne!=null&&u._size!=ne&&(s=!1)}),s}function Tr(i){let s=!0;return ji.forEach((u,a)=>{let m=u(l,a,jt,i);m!=zt[a]&&(s=!1),zt[a]=m}),s}function Or(){for(let i=0;i<b.length;i++){let s=b[i];if(!s.show||!s._show)continue;let u=s.side,a=u%2,m,g,v=s.stroke(l,i),M=u==0||u==3?-1:1;if(s.label){let mt=s.labelGap*M,Dt=Ie((s._lpos+mt)*ie);Ji(s.labelFont[0],v,"center",u==2?$n:xo),h.save(),a==1?(m=g=0,h.translate(Dt,Ie(qe+Je/2)),h.rotate((u==3?-Al:Al)/2)):(m=Ie(Le+De/2),g=Dt),h.fillText(s.label,m,g),h.restore()}let[D,C]=s._found;if(C==0)continue;let E=k[s.scale],F=a==0?De:Je,K=a==0?Le:qe,be=Ie(s.gap*ie),q=s._splits,le=E.distr==2?q.map(mt=>ht[mt]):q,ne=E.distr==2?ht[q[1]]-ht[q[0]]:D,ue=s.ticks,we=s.border,et=ue.show?Ie(ue.size*ie):0,ge=s._rotate*-Al/180,ke=I(s._pos*ie),Ue=(et+be)*M,Se=ke+Ue;g=a==0?Se:0,m=a==1?Se:0;let Ze=s.font[0],pt=s.align==1?gn:s.align==2?mi:ge>0?gn:ge<0?mi:a==0?"center":u==3?mi:gn,Nt=ge||a==1?"middle":u==2?$n:xo;Ji(Ze,v,pt,Nt);let wo=s.font[1]*s.lineGap,Sl=q.map(mt=>I(p(mt,E,F,K))),bo=s._values;for(let mt=0;mt<bo.length;mt++){let Dt=bo[mt];if(Dt!=null){a==0?m=Sl[mt]:g=Sl[mt],Dt=""+Dt;let So=Dt.indexOf(`
`)==-1?[Dt]:Dt.split(/\n/gm);for(let Qn=0;Qn<So.length;Qn++){let yo=So[Qn];ge?(h.save(),h.translate(m,g+Qn*wo),h.rotate(ge),h.fillText(yo,0,0),h.restore()):h.fillText(yo,m,g+Qn*wo)}}}ue.show&&li(Sl,ue.filter(l,le,i,C,ne),a,u,ke,et,ae(ue.width*ie,3),ue.stroke(l,i),ue.dash,ue.cap);let hn=s.grid;hn.show&&li(Sl,hn.filter(l,le,i,C,ne),a,a==0?2:1,a==0?qe:Le,a==0?Je:De,ae(hn.width*ie,3),hn.stroke(l,i),hn.dash,hn.cap),we.show&&li([ke],[1],a==0?1:0,a==0?1:2,a==1?qe:Le,a==1?Je:De,ae(we.width*ie,3),we.stroke(l,i),we.dash,we.cap)}Be("drawAxes")}function Wn(i){y.forEach((s,u)=>{u>0&&(s._paths=null,i&&(o==1?(s.min=null,s.max=null):s.facets.forEach(a=>{a.min=null,a.max=null})))})}let ii=!1;function Kt(){ii||(bu(Cr),ii=!0)}function Cr(){$e&&(Mr(),$e=!1),vt&&(gr(),vt=!1),at&&(_e(T,gn,de),_e(T,$n,Pe),_e(T,el,te),_e(T,tl,R),_e(A,gn,de),_e(A,$n,Pe),_e(A,el,te),_e(A,tl,R),_e(P,el,xt),_e(P,tl,Ut),_.width=Ie(xt*ie),_.height=Ie(Ut*ie),b.forEach(({_el:i,_show:s,_size:u,_pos:a,side:m})=>{if(i!=null)if(s){let g=m===3||m===0?u:0,v=m%2==1;_e(i,v?"left":"top",a-g),_e(i,v?"width":"height",u),_e(i,v?"top":"left",v?Pe:de),_e(i,v?"height":"width",v?R:te),Ei(i,Zt)}else nt(i,Zt)}),dl=sn=ql=Zl=Ql=$l=Xl=ei=Jl=null,Gn=1,Jn(!0),Be("setSize"),at=!1),xt>0&&Ut>0&&(h.clearRect(0,0,_.width,_.height),Be("drawClear"),W.forEach(i=>i()),Be("draw")),He.show&&Yl&&(_l(He),Yl=!1),U.show&&dt&&(qt(null,!0,!1),dt=!1),H.show&&H.live&&rt&&(fi(),rt=!1),d||(d=!0,l.status=1,Be("ready")),al=!1,ii=!1}l.redraw=(i,s)=>{vt=s||!1,i!==!1?un(S,L.min,L.max):Kt()};function oi(i,s){let u=k[i];if(u.from==null){if(Ne==0){let a=u.range(l,s.min,s.max,i);s.min=a[0],s.max=a[1]}if(s.min>s.max){let a=s.min;s.min=s.max,s.max=a}if(Ne>1&&s.min!=null&&s.max!=null&&s.max-s.min<1e-16)return;i==S&&u.distr==2&&Ne>0&&(s.min=Vt(s.min,t[0]),s.max=Vt(s.max,t[0]),s.min==s.max&&s.max++),j[i]=s,$e=!0,Kt()}}l.setScale=oi;let si,ri,ml,gl,Xi,eo,rn,fn,to,no,pe,me,Rt=!1;const Ve=U.drag;let Ce=Ve.x,xe=Ve.y;U.show&&(U.x&&(si=ft(Wf,A)),U.y&&(ri=ft(Uf,A)),L.ori==0?(ml=si,gl=ri):(ml=ri,gl=si),pe=U.left,me=U.top);const He=l.select=Me({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Un=He.show?ft(Gf,He.over?A:T):null;function _l(i,s){if(He.show){for(let u in i)He[u]=i[u],u in so&&_e(Un,u,i[u]);s!==!1&&Be("setSelect")}}l.setSelect=_l;function xr(i,s){let u=y[i],a=he?St[i]:null;u.show?a&&Ei(a,Zt):(a&&nt(a,Zt),Xe.length>1&&_n(Xe[i],-10,-10,te,R))}function un(i,s,u){oi(i,{min:s,max:u})}function Mt(i,s,u,a){s.focus!=null&&Vr(i),s.show!=null&&y.forEach((m,g)=>{g>0&&(i==g||i==null)&&(m.show=s.show,xr(g,s.show),un(o==2?m.facets[1].scale:m.scale,null,null),Kt())}),u!==!1&&Be("setSeries",i,s),a&&Zn("setSeries",l,i,s)}l.setSeries=Mt;function zr(i,s){Me(x[i],s)}function Rr(i,s){i.fill=J(i.fill||null),i.dir=oe(i.dir,-1),s=s??x.length,x.splice(s,0,i)}function Fr(i){i==null?x.length=0:x.splice(i,1)}l.addBand=Rr,l.setBand=zr,l.delBand=Fr;function Nr(i,s){y[i].alpha=s,U.show&&Xe[i]&&(Xe[i].style.opacity=s),he&&St[i]&&(St[i].style.opacity=s)}let cn,Yn,jn;const an={focus:!0};function Vr(i){if(i!=jn){let s=i==null,u=Hn.alpha!=1;y.forEach((a,m)=>{let g=s||m==0||m==i;a._focus=s?null:g,u&&Nr(m,g?1:Hn.alpha)}),jn=i,u&&Kt()}}he&&Bn&&st(Vo,ee,i=>{U._lock||(Yt(i),jn!=null&&Mt(null,an,!0,ve.setSeries))});function Pt(i,s,u){let a=k[s];u&&(i=i/ie-(a.ori==1?Pe:de));let m=te;a.ori==1&&(m=R,i=m-i),a.dir==-1&&(i=m-i);let g=a._min,v=a._max,M=i/m,D=g+(v-g)*M,C=a.distr;return C==3?En(10,D):C==4?fu(D,a.asinh):D}function Hr(i,s){let u=Pt(i,S,s);return Vt(u,t[0],Te,Oe)}l.valToIdx=i=>Vt(i,t[0]),l.posToIdx=Hr,l.posToVal=Pt,l.valToPos=(i,s,u)=>k[s].ori==0?r(i,k[s],u?De:te,u?Le:0):c(i,k[s],u?Je:R,u?qe:0);function Br(i){i(l),Kt()}l.batch=Br,l.setCursor=(i,s,u)=>{pe=i.left,me=i.top,qt(null,s,u)};function lo(i,s){_e(Un,gn,He.left=i),_e(Un,el,He.width=s)}function io(i,s){_e(Un,$n,He.top=i),_e(Un,tl,He.height=s)}let Kn=L.ori==0?lo:io,qn=L.ori==1?lo:io;function Ir(){if(he&&H.live)for(let i=o==2?1:0;i<y.length;i++){if(i==0&&ct)continue;let s=H.values[i],u=0;for(let a in s)Ct[i][u++].firstChild.nodeValue=s[a]}}function fi(i,s){i!=null&&(i.idxs?i.idxs.forEach((u,a)=>{se[a]=u}):du(i.idx)||se.fill(i.idx),H.idx=se[0]);for(let u=0;u<y.length;u++)(u>0||o==1&&!ct)&&Gr(u,se[u]);he&&H.live&&Ir(),rt=!1,s!==!1&&Be("setLegend")}l.setLegend=fi;function Gr(i,s){let u=y[i],a=i==0&&G==2?ht:t[i],m;ct?m=u.values(l,i,s)??Gt:(m=u.value(l,s==null?null:a[s],i,s),m=m==null?Gt:{_:m}),H.values[i]=m}function qt(i,s,u){to=pe,no=me,[pe,me]=U.move(l,pe,me),U.show&&(ml&&_n(ml,Ie(pe),0,te,R),gl&&_n(gl,0,Ie(me),te,R));let a,m=Te>Oe;cn=Z;let g=L.ori==0?te:R,v=L.ori==1?te:R;if(pe<0||Ne==0||m){a=null;for(let M=0;M<y.length;M++)M>0&&Xe.length>1&&_n(Xe[M],-10,-10,te,R);Bn&&Mt(null,an,!0,i==null&&ve.setSeries),H.live&&(se.fill(a),rt=!0)}else{let M,D,C;o==1&&(M=L.ori==0?pe:me,D=Pt(M,S),a=Vt(D,t[0],Te,Oe),C=Q(t[0][a],L,g,0));for(let E=o==2?1:0;E<y.length;E++){let F=y[E],K=se[E],be=o==1?t[E][K]:t[E][1][K],q=U.dataIdx(l,E,a,D),le=o==1?t[E][q]:t[E][1][q];rt=rt||le!=be||q!=K,se[E]=q;let ne=Ln(q==a?C:Q(o==1?t[0][q]:t[E][0][q],L,g,0),1);if(E>0&&F.show){let ue=le==null?-10:Ln($(le,o==1?k[F.scale]:k[F.facets[1].scale],v,0),1);if(Bn&&ue>=0&&o==1){let ge=Re(ue-me);if(ge<cn){let ke=Hn.bias;if(ke!=0){let Ue=L.ori==1?pe:me,Se=Pt(Ue,F.scale),Ze=le>=0?1:-1,pt=Se>=0?1:-1;pt==Ze&&(pt==1?ke==1?le>=Se:le<=Se:ke==1?le<=Se:le>=Se)&&(cn=ge,Yn=E)}else cn=ge,Yn=E}}let we,et;if(L.ori==0?(we=ne,et=ue):(we=ue,et=ne),rt&&Xe.length>1){tu(Xe[E],U.points.fill(l,E),U.points.stroke(l,E));let ge,ke,Ue,Se,Ze=!0,pt=U.points.bbox;if(pt!=null){Ze=!1;let Nt=pt(l,E);Ue=Nt.left,Se=Nt.top,ge=Nt.width,ke=Nt.height}else Ue=we,Se=et,ge=ke=U.points.size(l,E);nu(Xe[E],ge,ke,Ze),_n(Xe[E],Ue,Se,te,R)}}}}if(U.idx=a,U.left=pe,U.top=me,rt&&(H.idx=a,fi()),He.show&&Rt)if(i!=null){let[M,D]=ve.scales,[C,E]=ve.match,[F,K]=i.cursor.sync.scales,be=i.cursor.drag;if(Ce=be._x,xe=be._y,Ce||xe){let{left:q,top:le,width:ne,height:ue}=i.select,we=i.scales[M].ori,et=i.posToVal,ge,ke,Ue,Se,Ze,pt=M!=null&&C(M,F),Nt=D!=null&&E(D,K);pt&&Ce?(we==0?(ge=q,ke=ne):(ge=le,ke=ue),Ue=k[M],Se=Q(et(ge,F),Ue,g,0),Ze=Q(et(ge+ke,F),Ue,g,0),Kn(ut(Se,Ze),Re(Ze-Se))):Kn(0,g),Nt&&xe?(we==1?(ge=q,ke=ne):(ge=le,ke=ue),Ue=k[D],Se=$(et(ge,K),Ue,v,0),Ze=$(et(ge+ke,K),Ue,v,0),qn(ut(Se,Ze),Re(Ze-Se))):qn(0,v)}else wl()}else{let M=Re(to-Xi),D=Re(no-eo);if(L.ori==1){let K=M;M=D,D=K}Ce=Ve.x&&M>=Ve.dist,xe=Ve.y&&D>=Ve.dist;let C=Ve.uni;C!=null?Ce&&xe&&(Ce=M>=C,xe=D>=C,!Ce&&!xe&&(D>M?xe=!0:Ce=!0)):Ve.x&&Ve.y&&(Ce||xe)&&(Ce=xe=!0);let E,F;Ce&&(L.ori==0?(E=rn,F=pe):(E=fn,F=me),Kn(ut(E,F),Re(F-E)),xe||qn(0,v)),xe&&(L.ori==1?(E=rn,F=pe):(E=fn,F=me),qn(ut(E,F),Re(F-E)),Ce||Kn(0,g)),!Ce&&!xe&&(Kn(0,0),qn(0,0))}if(Ve._x=Ce,Ve._y=xe,i==null){if(u){if(_o!=null){let[M,D]=ve.scales;ve.values[0]=M!=null?Pt(L.ori==0?pe:me,M):null,ve.values[1]=D!=null?Pt(L.ori==1?pe:me,D):null}Zn(Ro,l,pe,me,te,R,a)}if(Bn){let M=u&&ve.setSeries,D=Hn.prox;jn==null?cn<=D&&Mt(Yn,an,!0,M):cn>D?Mt(null,an,!0,M):Yn!=jn&&Mt(Yn,an,!0,M)}}s!==!1&&Be("setCursor")}let Ft=null;Object.defineProperty(l,"rect",{get(){return Ft==null&&Jn(!1),Ft}});function Jn(i=!1){i?Ft=null:(Ft=A.getBoundingClientRect(),Be("syncRect",Ft))}function oo(i,s,u,a,m,g,v){U._lock||Rt&&i!=null&&i.movementX==0&&i.movementY==0||(ui(i,s,u,a,m,g,v,!1,i!=null),i!=null?qt(null,!0,!0):qt(s,!0,!1))}function ui(i,s,u,a,m,g,v,M,D){if(Ft==null&&Jn(!1),Yt(i),i!=null)u=i.clientX-Ft.left,a=i.clientY-Ft.top;else{if(u<0||a<0){pe=-10,me=-10;return}let[C,E]=ve.scales,F=s.cursor.sync,[K,be]=F.values,[q,le]=F.scales,[ne,ue]=ve.match,we=s.axes[0].side%2==1,et=L.ori==0?te:R,ge=L.ori==1?te:R,ke=we?g:m,Ue=we?m:g,Se=we?a:u,Ze=we?u:a;if(q!=null?u=ne(C,q)?p(K,k[C],et,0):-10:u=et*(Se/ke),le!=null?a=ue(E,le)?p(be,k[E],ge,0):-10:a=ge*(Ze/Ue),L.ori==1){let pt=u;u=a,a=pt}}D&&((u<=1||u>=te-1)&&(u=Jt(u,te)),(a<=1||a>=R-1)&&(a=Jt(a,R))),M?(Xi=u,eo=a,[rn,fn]=U.move(l,u,a)):(pe=u,me=a)}const so={width:0,height:0,left:0,top:0};function wl(){_l(so,!1)}let ro,fo,uo,co;function ao(i,s,u,a,m,g,v){Rt=!0,Ce=xe=Ve._x=Ve._y=!1,ui(i,s,u,a,m,g,v,!0,!1),i!=null&&(st(gi,Mi,ho,!1),Zn(Fo,l,rn,fn,te,R,null));let{left:M,top:D,width:C,height:E}=He;ro=M,fo=D,uo=C,co=E,wl()}function ho(i,s,u,a,m,g,v){Rt=Ve._x=Ve._y=!1,ui(i,s,u,a,m,g,v,!1,!0);let{left:M,top:D,width:C,height:E}=He,F=C>0||E>0,K=ro!=M||fo!=D||uo!=C||co!=E;if(F&&K&&_l(He),Ve.setScale&&F&&K){let be=M,q=C,le=D,ne=E;if(L.ori==1&&(be=D,q=E,le=M,ne=C),Ce&&un(S,Pt(be,S),Pt(be+q,S)),xe)for(let ue in k){let we=k[ue];ue!=S&&we.from==null&&we.min!=Z&&un(ue,Pt(le+ne,ue),Pt(le,ue))}wl()}else U.lock&&(U._lock=!U._lock,U._lock||qt(null,!0,!1));i!=null&&(Vn(gi,Mi),Zn(gi,l,pe,me,te,R,null))}function Wr(i,s,u,a,m,g,v){if(U._lock)return;Yt(i);let M=Rt;if(Rt){let D=!0,C=!0,E=10,F,K;L.ori==0?(F=Ce,K=xe):(F=xe,K=Ce),F&&K&&(D=pe<=E||pe>=te-E,C=me<=E||me>=R-E),F&&D&&(pe=pe<rn?0:te),K&&C&&(me=me<fn?0:R),qt(null,!0,!0),Rt=!1}pe=-10,me=-10,qt(null,!0,!0),M&&(Rt=M)}function po(i,s,u,a,m,g,v){U._lock||(Yt(i),Kl(),wl(),i!=null&&Zn(Ho,l,pe,me,te,R,null))}function mo(){b.forEach(Dc),jl(l.width,l.height,!0)}Xt(xl,vn,mo);const dn={};dn.mousedown=ao,dn.mousemove=oo,dn.mouseup=ho,dn.dblclick=po,dn.setSeries=(i,s,u,a)=>{let m=ve.match[2];u=m(l,s,u),u!=-1&&Mt(u,a,!0,!1)},U.show&&(st(Fo,A,ao),st(Ro,A,oo),st(No,A,i=>{Yt(i),Jn(!1)}),st(Vo,A,Wr),st(Ho,A,po),Ti.add(l),l.syncRect=Jn);const bl=l.hooks=e.hooks||{};function Be(i,s,u){i in bl&&bl[i].forEach(a=>{a.call(null,l,s,u)})}(e.plugins||[]).forEach(i=>{for(let s in i.hooks)bl[s]=(bl[s]||[]).concat(i.hooks[s])});const go=(i,s,u)=>u,ve=Me({key:null,setSeries:!1,filters:{pub:qo,sub:qo},scales:[S,y[1]?y[1].scale:null],match:[Jo,Jo,go],values:[null,null]},U.sync);ve.match.length==2&&ve.match.push(go),U.sync=ve;const _o=ve.key,ci=lr(_o);function Zn(i,s,u,a,m,g,v){ve.filters.pub(i,s,u,a,m,g,v)&&ci.pub(i,s,u,a,m,g,v)}ci.sub(l);function Ur(i,s,u,a,m,g,v){ve.filters.sub(i,s,u,a,m,g,v)&&dn[i](null,s,u,a,m,g,v)}l.pub=Ur;function Yr(){ci.unsub(l),Ti.delete(l),Wt.clear(),Ai(xl,vn,mo),w.remove(),ee==null||ee.remove(),Be("destroy")}l.destroy=Yr;function ai(){Be("init",e,t),Ki(t||e.data,!1),j[S]?oi(S,j[S]):Kl(),Yl=He.show&&(He.width>0||He.height>0),dt=rt=!0,jl(e.width,e.height)}return y.forEach(Yi),b.forEach(kr),n?n instanceof HTMLElement?(n.appendChild(w),ai()):n(l,ai):ai(),l}Ke.assign=Me;Ke.fmtNum=Ni;Ke.rangeNum=zl;Ke.rangeLog=Vl;Ke.rangeAsinh=Ri;Ke.orient=on;Ke.pxRatio=ie;Ke.join=wu;Ke.fmtDate=Vi,Ke.tzDate=Du;Ke.sync=lr;{Ke.addGap=hc,Ke.clipGaps=Il;let e=Ke.paths={points:ur};e.linear=ar,e.stepped=gc,e.bars=_c,e.spline=bc}function Tc(e){let t;return{c(){t=Ee("div"),fe(t,"id","chart-container"),fe(t,"class","svelte-1dikiwg")},m(n,l){je(n,t,l),e[3](t)},p:Qe,i:Qe,o:Qe,d(n){n&&We(t),e[3](null)}}}const _s=30;function Oc(e){const t=e.split(","),n=[];for(const l of t){if(l==="")break;const o=parseFloat(l);if(isNaN(o)){n.push(null);break}n.push(o)}return n}function ws(){return{width:window.innerWidth-20,height:window.innerHeight-70}}function Cc(e,t,n){let l;Ms(e,Tl,h=>n(2,l=h));let o,{numPoints:f}=t;const r=Array.from({length:_s+1},()=>[]);let c;function p(h){for(let P=0;P<h.length;P++)r[P].push(h[P]),r[P].length>f&&(r[P]=r[P].slice(-f))}function d(){const h=l;if(h.length===0||h==="undefined")return;const P=Oc(h);p(P),o.setData(r)}function w(){const h=[{}];for(let T=0;T<_s;T++){const A=Cf();h.push({stroke:A,fill:`${A}1A`})}const P={pxAlign:!1,scales:{y:{auto:!0}},axes:[{show:!1,width:1,space:300,stroke:"#fff",ticks:{width:.2,stroke:"#fff"},grid:{width:.2,stroke:"#fff"}},{stroke:"#fff",ticks:{width:.2,stroke:"#fff"},grid:{width:.2,stroke:"#fff"}}],legend:{show:!1},cursor:{show:!1},select:{show:!1},font:{color:"#fff"},series:h};return new Ke(P,r,c)}rf(()=>{o=w(),window.addEventListener("resize",()=>{o.setSize(ws())}),o.setSize(ws())});function _(h){tt[h?"unshift":"push"](()=>{c=h,n(0,c)})}return e.$$set=h=>{"numPoints"in h&&n(1,f=h.numPoints)},e.$$.update=()=>{e.$$.dirty&4&&d()},[c,f,l,_]}class xc extends Cn{constructor(t){super(),On(this,t,Cc,Tc,ln,{numPoints:1})}}function bs(e){let t,n;return{c(){t=Ee("img"),ks(t.src,n="logo.svg")||fe(t,"src",n),fe(t,"id","logo"),fe(t,"alt","logo"),fe(t,"class","svelte-1up0um")},m(l,o){je(l,t,o)},d(l){l&&We(t)}}}function Ss(e){let t,n,l;function o(r){e[16](r)}let f={};return e[3]!==void 0&&(f.numPoints=e[3]),t=new xc({props:f}),tt.push(()=>wt(t,"numPoints",o)),{c(){$t(t.$$.fragment)},m(r,c){Bt(t,r,c),l=!0},p(r,c){const p={};!n&&c&8&&(n=!0,p.numPoints=r[3],_t(()=>n=!1)),t.$set(p)},i(r){l||(ye(t.$$.fragment,r),l=!0)},o(r){Ye(t.$$.fragment,r),l=!1},d(r){It(t,r)}}}function zc(e){let t,n,l,o,f,r,c,p,d,w,_;function h(k){e[10](k)}function P(k){e[11](k)}function T(k){e[12](k)}function A(k){e[13](k)}function z(k){e[14](k)}function I(k){e[15](k)}let O={baudrateOptions:e[6],pointsOptions:e[7]};e[4]!==void 0&&(O.connected=e[4]),e[5]!==void 0&&(O.started=e[5]),e[1]!==void 0&&(O.baudrate=e[1]),e[0]!==void 0&&(O.defaultBaudrate=e[0]),e[3]!==void 0&&(O.numPoints=e[3]),e[2]!==void 0&&(O.defaultPoints=e[2]),t=new Of({props:O}),tt.push(()=>wt(t,"connected",h)),tt.push(()=>wt(t,"started",P)),tt.push(()=>wt(t,"baudrate",T)),tt.push(()=>wt(t,"defaultBaudrate",A)),tt.push(()=>wt(t,"numPoints",z)),tt.push(()=>wt(t,"defaultPoints",I)),t.$on("start",e[8]),t.$on("connect",e[9]);let y=!e[4]&&bs(),b=e[4]&&Ss(e);return{c(){$t(t.$$.fragment),p=bt(),d=Ee("main"),y&&y.c(),w=bt(),b&&b.c()},m(k,x){Bt(t,k,x),je(k,p,x),je(k,d,x),y&&y.m(d,null),ze(d,w),b&&b.m(d,null),_=!0},p(k,[x]){const S={};!n&&x&16&&(n=!0,S.connected=k[4],_t(()=>n=!1)),!l&&x&32&&(l=!0,S.started=k[5],_t(()=>l=!1)),!o&&x&2&&(o=!0,S.baudrate=k[1],_t(()=>o=!1)),!f&&x&1&&(f=!0,S.defaultBaudrate=k[0],_t(()=>f=!1)),!r&&x&8&&(r=!0,S.numPoints=k[3],_t(()=>r=!1)),!c&&x&4&&(c=!0,S.defaultPoints=k[2],_t(()=>c=!1)),t.$set(S),k[4]?y&&(y.d(1),y=null):y||(y=bs(),y.c(),y.m(d,w)),k[4]?b?(b.p(k,x),x&16&&ye(b,1)):(b=Ss(k),b.c(),ye(b,1),b.m(d,null)):b&&(Ll(),Ye(b,1,1,()=>{b=null}),Dl())},i(k){_||(ye(t.$$.fragment,k),ye(b),_=!0)},o(k){Ye(t.$$.fragment,k),Ye(b),_=!1},d(k){k&&(We(p),We(d)),It(t,k),y&&y.d(),b&&b.d()}}}function Rc(e,t,n){let l;Ms(e,Tl,S=>n(17,l=S));let o=[300,600,1200,4800,9600,31250,38400,115200],f=o[6],r,c=[10,20,50,100,500,1e3,5e3,1e4,5e4,1e5],p=c[2],d,w=!1,_=!1;async function h(){await wf(r),n(4,w=!0)}function P(){Ds(),n(4,w=!1),n(5,_=!1),tf(Tl,l="",l)}function T(){_?Ts():bf(),n(5,_=!_)}function A(){w?P():h()}function z(S){w=S,n(4,w)}function I(S){_=S,n(5,_)}function O(S){r=S,n(1,r)}function y(S){f=S,n(0,f)}function b(S){d=S,n(3,d)}function k(S){p=S,n(2,p)}function x(S){d=S,n(3,d)}return[f,r,p,d,w,_,o,c,T,A,z,I,O,y,b,k,x]}class Fc extends Cn{constructor(t){super(),On(this,t,Rc,zc,ln,{})}}new Fc({target:document.getElementById("app")});
